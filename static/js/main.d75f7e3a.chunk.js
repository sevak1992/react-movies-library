(this["webpackJsonpmovies-library"]=this["webpackJsonpmovies-library"]||[]).push([[0],{166:function(e,t,a){e.exports=a(220)},180:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"doCreateUserWithEmailAndPassword",(function(){return y})),a.d(n,"doSignInWithEmailAndPassword",(function(){return x})),a.d(n,"doSignInWithGoogle",(function(){return C})),a.d(n,"doSignOut",(function(){return k})),a.d(n,"user",(function(){return w})),a.d(n,"users",(function(){return M})),a.d(n,"favorites",(function(){return P})),a.d(n,"favorite",(function(){return D})),a.d(n,"onAuthUserListener",(function(){return L}));var r=a(0),o=a.n(r),i=a(12),c=a.n(i),l=a(29);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(42),u=(a(175),a(25)),m={genres:[],yearsRange:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_GENRES_FILTER_ACTION":return Object(u.a)(Object(u.a)({},e),{},{genres:t.genres});case"ADD_YEAR_FILTER_ACTION":return Object(u.a)(Object(u.a)({},e),{},{yearsRange:t.yearsRange});case"RESET_FILTER_ACTION":return{genres:[],yearsRange:null};default:return e}},E={user:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOG_OUT_ACTION":return{user:null};case"USER_LOG_IN_ACTION":return{user:t.data};default:return e}},f={sorting:"popularity.desc"},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SORTING_ACTION":return Object(u.a)(Object(u.a)({},e),{},{sorting:t.sorting});default:return e}},g=Object(s.combineReducers)({filter:d,sorting:v,user:p}),b=Object(s.createStore)(g),O=o.a.createContext(null),h=function(e){return function(t){return o.a.createElement(O.Consumer,null,(function(a){return o.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},_=O,I=a(78),S=a.n(I),N=(a(176),a(178),a(221),Object({NODE_ENV:"production",PUBLIC_URL:"/react-movies-library",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TMDB_API_KEY:"a8ce71118c2014fa9f61d61b5464d5bf",REACT_APP_FIREBASE_API_KEY:"AIzaSyCMSZgmSbjpXMRthBHxEYOnXy07UofHRfI",REACT_APP_FIREBASE_AUTH_DOMAIN:"tmtb-b8251.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://tmtb-b8251.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-S71TJRLWGQ",REACT_APP_FIREBASE_PROJECT_ID:"tmtb-b8251",REACT_APP_FIREBASE_APP_ID:"1:657364492166:web:eabc247df61f2feb3d1607"})),T={apiKey:N.REACT_APP_FIREBASE_API_KEY,authDomain:N.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:N.REACT_APP_FIREBASE_DATABASE_URL,measurementId:N.REACT_APP_FIREBASE_MEASUREMENT_ID,projectId:N.REACT_APP_FIREBASE_PROJECT_ID,appId:N.REACT_APP_FIREBASE_APP_ID};S.a.initializeApp(T);var j=S.a.auth(),R=S.a.database(),A=new S.a.auth.GoogleAuthProvider,y=function(e,t){return j.createUserWithEmailAndPassword(e,t)},x=function(e,t){return j.signInWithEmailAndPassword(e,t)},C=function(){return j.signInWithPopup(A).then((function(e){return e}))},k=function(){return j.signOut()},w=function(e){return R.ref("users/".concat(e))},M=function(){return R.ref("users")},P=function(e){return R.ref("favorites/".concat(e))},D=function(){return R.ref("favorites")},L=function(e){return j.onAuthStateChanged((function(t){t?w(t.uid).once("value").then((function(a){var n=a.val();n?P(t.uid).on("value",(function(a){var r=a.val();t=Object(u.a)({uid:t.uid,email:t.email,emailVerified:t.emailVerified,providerData:t.providerData,favorites:r||{}},n),e(t)})):e({})})).catch((function(){})):e(null)}))},W=n,B=(a(180),a(28)),F=a(16),G=a(81),U=a(261),H=a(145),V=a(286),Y=a(144),z=a.n(Y),q=a(127),K=a.n(q),J={palette:{primary:{main:"#0292F2"},secondary:{main:"#5A5A5A"}},typography:{fontFamily:'"Roboto", "-apple-system, BlinkMacSystemFont, "Segoe UI", "Lato",\n    "Helvetica Neue", sans-serif"',button:{textTransform:"capitalize",fontSize:"1.125rem"}}},X=o.a.createContext(null),Q=function(e){return{genres:e,type:"ADD_GENRES_FILTER_ACTION"}},Z=function(e){return Object(l.b)((function(e){return{user:e.user}}))(h((function(t){var a=t.user;return Object(r.useEffect)((function(){t.firebase.onAuthUserListener((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),t.dispatch({type:"USER_LOG_IN_ACTION",data:e}),localStorage.setItem("userId",JSON.stringify(e.uid))):(localStorage.removeItem("authUser"),t.dispatch(function(e){return{type:"USER_LOG_OUT_ACTION",data:e}}(null)))}),(function(){localStorage.removeItem("authUser")}))}),[]),o.a.createElement(X.Provider,{value:a},o.a.createElement(e,t))})))},$=a(10),ee=a(147),te=a(263),ae=Object(U.a)((function(){return{fullScrean:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},alignCenter:{display:"block",marginLeft:"auto",marginRight:"auto"}}}));function ne(e){var t=e.isFullScrean,a=ae();return t?o.a.createElement("div",{className:a.fullScrean},o.a.createElement(te.a,{size:80})):o.a.createElement(te.a,{className:a.alignCenter})}ne.defaultProps={isFullScrean:!1};var re=o.a.memo(ne),oe=function(e){var t=e.component,a=Object(ee.a)(e,["component"]),n=a.location.pathname+a.location.search,i=Object(r.useState)(JSON.parse(localStorage.getItem("authUser"))),c=Object($.a)(i,1)[0],l=Object(F.f)(),s=Object(r.useState)(null===c),u=Object($.a)(s,2),m=u[0],d=u[1];return Object(r.useEffect)((function(){c?d(!1):l.push({pathname:"/log-in",state:{url:n}})}),[c,l,n]),m?o.a.createElement(re,{isFullScrean:!0}):o.a.createElement(F.a,Object.assign({},a,{render:function(e){return o.a.createElement(t,e)}}))},ie=a(14),ce=a.n(ie),le=a(46),se=a(22),ue=a(287),me=a(289),de=a(276),Ee=a(24),pe=a(224),fe=Object(U.a)((function(e){return{heading:Object(Ee.a)({marginTop:"2rem",marginBottom:"0.5rem",textTransform:"uppercase"},e.breakpoints.down("sm"),{fontSize:"1.2rem",marginTop:"1rem"})}}));function ve(e){var t=e.text,a=e.variant,n=e.color,r=e.component,i=fe();return o.a.createElement(pe.a,{className:i.heading,variant:a,color:n,component:r},t)}ve.defaultProps={variant:"h5",color:"textPrimary",component:"h4"};var ge=o.a.memo(ve),be=a(128),Oe=a.n(be),he=a(21),_e=a(293),Ie=a(130),Se=a.n(Ie).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"".concat("a8ce71118c2014fa9f61d61b5464d5bf")}}),Ne=function(e){return Se.get("/movie/".concat(e))},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={query:t,page:e,include_adult:!1};return Se.get("/search/movie",{params:a})},je=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o={page:a,include_adult:!1};return(null===(e=n.genres)||void 0===e?void 0:e.length)&&(o.with_genres=n.genres.join()),(null===(t=n.yearsRange)||void 0===t?void 0:t.length)&&2===n.yearsRange.length&&(o["primary_release_date.gte"]=new Date(n.yearsRange[0],0,1,0,0,0,0),o["primary_release_date.lte"]=new Date(n.yearsRange[1],11,31,23,59,59,999)),o.sort_by=r,Se.get("/discover/movie",{params:o})},Re={YEARS_NUM:50,SORTINGS:[{label:"Popularity Descending",value:"popularity.desc"},{label:"Popularity Ascending",value:"popularity.asc"},{label:"Rating Descending",value:"vote_average.desc"},{label:"Rating Ascending",value:"vote_average.asc"},{label:"Release Date Descending",value:"release_date.desc"},{label:"Release Date Ascending",value:"release_date.asc"}]},Ae={TITLE:"Movies Library",DESCRIPTION:"Movies Library is a, database for movies.",KEYWORDS:"Movies, Reviews, Actors, Actresses, Photos, User Ratings, Cast",SIGN_OUT_BTN:"Sign out",LOGIN_BTN:"Login"},ye={NO_RECOMMENDED_MOVIES:"There is no recommended movies.",NO_SIMILAR_MOVIES:"There is no similar movies."},xe={RELEASE_DATE:"Release date",DURATION:"Duration",MIN:"Min.",BUDGET:"Budget",ORIGINAL_LANGUAGE:"Original language",CAST:"Cast",GENRES:"Genres",OVERVIEW:"Overview",RECOMMENDED_MOVIES:"Recommended Movies",SIMILAR_MOVIES:"Similar Movies",NO_MOVIES_TO_SHOW:"There is no movies to show."},Ce={NO_ELEMENTS_TO_SHOW:"There is no elements to show."},ke={FAVORITES:"Favorites",SIGN_OUT:"Sign Out",SEARCH_PLACEHOLDER:"Search..."},we={FILTERS_AND_SORTING:"Filters/Sorting"},Me={TITLE:"Favorites",YOU_HAVE_NO_FAVORTITE_MOVIES:"You've no favorite movies."},Pe={LOGIN_TITLE:"Log in",LOGIN_BTN:"Log In",EMAIL:"Email",PASSWORD:"Password",DO_NOT_HAVE_ACCOUNT:"Do not have an account? Sign Up"},De={TITLE:"Sign up",FIRST_NAME:"First Name",LAST_NAME:"Last Name",EMAIL:"Email",PASSWORD:"Password",SIGN_UP_BTN:"Sign up",ALREADY_HAVE_AN_ACCOUNT:"Already have an account? Log in"},Le={SEARCH_BY:"Search By",NO_MOVIES_FOUND_BY:"No movies found by"},We={GENRE:"Genre",SORT_BY:"Sort By",YEAR:"Year",FILTER_BTN:"Filter",RESET_FILTER_BTN:"Reset",NO_MOVIES_FOUND_BY_PROVIDED_FILTERS:"No movies found by provided filter"},Be={SOMETHING_WENT_WRONG:"Oops, Something Went Wrong."},Fe=o.a.createContext(null),Ge=function(e){return function(t){var a=Object(_e.a)(Object(se.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.get("configuration");case 2:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===t;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=t.data;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=null;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)}))),[]),n=a.value,r=a.loading,i=a.error;return r?o.a.createElement(re,{isFullScrean:!0}):i?o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG):o.a.createElement(Fe.Consumer,null,(function(){return o.a.createElement(e,Object.assign({},t,{configs:n}))}))}},Ue=Fe,He=a(269),Ve=a(265),Ye=a(266),ze=a(267),qe=a(268),Ke=a(264),Je=a(61),Xe=a.n(Je),Qe=a(131),Ze=a.n(Qe),$e=a(91),et=a.n($e),tt=a(294),at=a(89),nt=a.n(at),rt=Object(U.a)((function(e){return{link:{textDecoration:"none",display:"block",width:"100%"},itemImage:{height:"24rem"},movieItem:{position:"relative",maxWidth:"17.5rem",marginLeft:"auto",marginRight:"auto",transition:"all 0.3s ease","&:hover":{transform:"scale(1.015)"}},actions:{position:"absolute",top:0,left:0,width:"100%",padding:0,background:"rgba(0,0,0,0.2)",justifyContent:"flex-end"},favoritesIcon:{cursor:"pointer",color:e.palette.error.dark}}}));var ot=Object(he.a)(h)((function(e){var t=e.movie,a=e.baseUrl,n=e.posterSizes,r=e.firebase,i=rt(),c=t.poster_path,l=c?"".concat(a).concat(n[3]).concat(c):nt.a,s=t.vote_average/2,m=function(e,t,a){a?e.favorites[t.id]=t:delete e.favorites[t.id],r.favorite(e.uid).update(Object(Ee.a)({},e.uid,Object(u.a)({},e.favorites)))};return o.a.createElement(B.b,{className:i.link,to:"/movie/".concat(t.id)},o.a.createElement(Ve.a,{className:i.movieItem},o.a.createElement(Ye.a,{image:l,title:t.title,className:i.itemImage}),o.a.createElement(ze.a,null,o.a.createElement(pe.a,{variant:"h6",color:"textPrimary",component:"p",noWrap:!0},t.title),o.a.createElement(pe.a,{variant:"subtitle1",color:"textPrimary",component:"p",noWrap:!0},xe.RELEASE_DATE,": ",t.release_date),o.a.createElement(tt.a,{readOnly:!0,value:s,precision:.5,icon:o.a.createElement(et.a,null)})),o.a.createElement(qe.a,{className:i.actions,disableSpacing:!0},o.a.createElement(X.Consumer,null,(function(e){return function(e,a){if(!e)return null;var n=Object.keys(e.favorites).includes(a.toString());return o.a.createElement(Ke.a,{"aria-label":"add to favorites"},n?o.a.createElement(Ze.a,{onClick:function(a){return a.preventDefault(),a.stopPropagation(),m(e,t,!n)},className:i.favoritesIcon}):o.a.createElement(Xe.a,{onClick:function(a){return a.preventDefault(),a.stopPropagation(),m(e,t,!n)},className:i.favoritesIcon}))}(e.user,t.id)})))))})),it=Object(U.a)((function(){return{listingContainer:{paddingLeft:"0.5rem",paddingRight:"0.5rem"}}}));function ct(e){var t=e.movies,a=e.hasMore,n=e.loadMore,r=e.configs,i=e.xs,c=e.sm,l=e.md,s=e.lg,u=e.xl,m=e.title,d=it();if(!r.images)return"";var E=r.images,p=E.base_url,f=E.poster_sizes;return o.a.createElement(o.a.Fragment,null,t.length>0&&o.a.createElement(Oe.a,{pageStart:0,loadMore:n,hasMore:a,loader:o.a.createElement(ue.a,{key:0,display:"flex",justifyContent:"center",mt:3},o.a.createElement(re,null))},o.a.createElement(He.a,{container:!0,justify:"center",spacing:3,className:d.listingContainer},m&&o.a.createElement(He.a,{container:!0},o.a.createElement(ge,{text:m})),t.map((function(e){return o.a.createElement(He.a,{key:e.id,item:!0,xs:i,sm:c,md:l,lg:s,xl:u},o.a.createElement(ot,{movie:e,baseUrl:p,posterSizes:f}))})))))}ct.defaultProps={xs:12,sm:4,md:4,lg:3,xl:3,hasMore:!0,title:""};var lt=Object(he.a)(Ge)(ct),st=a(149),ut=a(275),mt=a(271),dt=a(270),Et=a(298),pt=Object(U.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",maxWidth:220,"& > *":{margin:e.spacing(.5)}}}}));var ft=function(e){var t=e.genres,a=e.checkedGenres,n=e.onChange,r=pt(),i=function(e){return!!a.find((function(t){return t===e}))},c=function(e){return function(){i(e)?a.splice(a.indexOf(e),1):a.push(e),n(Object(le.a)(a))}};return o.a.createElement(ue.a,{mx:2,p:2},o.a.createElement(dt.a,{row:!0},o.a.createElement(mt.a,{component:"legend"},We.GENRE),o.a.createElement("div",{className:r.root},t.map((function(e){var t=e.name,a=e.id;return o.a.createElement(Et.a,{key:a,label:t,clickable:!0,color:i(a)?"primary":"secondary",onClick:c(a),variant:"outlined",size:"small"})})))))},vt=a(272),gt=a(299),bt=Object(U.a)((function(){return{formControl:{minWidth:150}}}));var Ot=o.a.memo((function(e){var t=e.yearsRange,a=e.updateRange,n=e.firstYear,i=e.lastYear,c=bt(),l=Object(r.useMemo)((function(){return[{value:n,label:n},{value:i,label:i}]}),[n,i]);return o.a.createElement(ue.a,{mx:2,p:2},o.a.createElement(vt.a,{className:c.formControl},o.a.createElement(mt.a,{component:"legend"},We.YEAR),o.a.createElement(gt.a,{value:t,onChange:function(e,t){a(t)},step:1,min:n,max:i,valueLabelDisplay:"auto","aria-labelledby":"range-slider",marks:l})))}),(function(e,t){return e.firstYear===t.firstYear&&e.lastYear===t.lastYear&&e.updateRange===t.updateRange&&e.yearsRange[0]===t.yearsRange[0]&&e.yearsRange[1]===t.yearsRange[1]})),ht=a(300),_t=a(290),It=a(273),St=Object(U.a)((function(){return{formControl:{width:220}}}));var Nt=o.a.memo((function(e){var t=e.selectedSorting,a=e.onChange,n=St(),i=Object(r.useState)(t),c=Object($.a)(i,2),l=c[0],s=c[1];return Object(r.useEffect)((function(){s(t)}),[t]),o.a.createElement(ue.a,{mx:2,p:2},o.a.createElement(vt.a,{className:n.formControl},o.a.createElement(mt.a,{component:"legend"},We.SORT_BY),o.a.createElement(_t.a,{value:l,onChange:a,input:o.a.createElement(It.a,null)},Re.SORTINGS.map((function(e){var t=e.label,a=e.value;return o.a.createElement(ht.a,{key:a,value:a},t)})))))})),Tt=(new Date).getFullYear(),jt=Tt-Re.YEARS_NUM;var Rt=function(){var e,t,a=Object(l.c)(),n=Object(_e.a)(Object(se.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.get("/genre/movie/list");case 2:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===t;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(a=t.data)||void 0===a?void 0:a.genres;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)})))),i=n.value,c=n.loading,s=n.error,u=Object(l.d)((function(e){return e.filter})),m=Object(l.d)((function(e){return e.sorting})).sorting,d=Object(r.useState)(null!==(e=u.genres)&&void 0!==e?e:[]),E=Object($.a)(d,2),p=E[0],f=E[1],v=Object(r.useState)(null!==(t=u.yearsRange)&&void 0!==t?t:[jt,Tt]),g=Object($.a)(v,2),b=g[0],O=g[1];Object(r.useEffect)((function(){f(u.genres),O(u.yearsRange)}),[u]);var h=Object(r.useCallback)((function(){a(function(e){return{yearsRange:e,type:"ADD_YEAR_FILTER_ACTION"}}(b)),a(Q(p))}),[b,p,a]),_=Object(r.useCallback)((function(){a({type:"RESET_FILTER_ACTION"})}),[a]),I=Object(r.useCallback)((function(e){a(function(e){return{sorting:e,type:"CHANGE_SORTING_ACTION"}}(e.target.value))}),[a]);return o.a.createElement(ue.a,null,o.a.createElement(st.a,{elevation:3},o.a.createElement(Nt,{selectedSorting:m,onChange:I}),c?o.a.createElement(re,null):s?o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG):o.a.createElement(ft,{genres:i,checkedGenres:p,onChange:f}),o.a.createElement(Ot,{yearsRange:null!==b&&void 0!==b?b:[jt,Tt],updateRange:O,firstYear:jt,lastYear:Tt}),Object(r.useMemo)((function(){return o.a.createElement(ue.a,{pb:2,display:"flex",justifyContent:"center"},o.a.createElement(ut.a,{variant:"outlined",color:"primary",onClick:h},We.FILTER_BTN))}),[h]),Object(r.useMemo)((function(){return o.a.createElement(ue.a,{pb:2,display:"flex",justifyContent:"center"},o.a.createElement(ut.a,{variant:"outlined",color:"secondary",onClick:_},We.RESET_FILTER_BTN))}),[_])))},At=Object(U.a)((function(){return{homeContent:{maxWidth:"100rem",margin:"7rem auto 2.5rem"}}}));function yt(e){var t=e.movies,a=e.error,n=e.hasMore,r=e.loadMore,i=At(),c=Object(de.a)("(min-width: 960px)");return o.a.createElement(ue.a,{container:!0,m:6,ml:2,flexDirection:"row",display:"flex",className:i.homeContent},c&&o.a.createElement(ue.a,{item:!0,pr:3,spacing:3},o.a.createElement(Rt,null)),o.a.createElement(ue.a,{item:!0,xs:6,spacing:3},t.length?o.a.createElement(lt,{movies:t,hasMore:n,loadMore:r}):a?o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG):o.a.createElement(ge,{text:We.NO_MOVIES_FOUND_BY_PROVIDED_FILTERS})))}yt.defaultProps={movies:[],error:null,hasMore:!0};var xt=yt;var Ct=function(){var e=Object(r.useState)(!0),t=Object($.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(null),c=Object($.a)(i,2),s=c[0],u=c[1],m=Object(r.useState)([]),d=Object($.a)(m,2),E=d[0],p=d[1],f=Object(r.useState)(!0),v=Object($.a)(f,2),g=v[0],b=v[1],O=Object(l.d)((function(e){return e.filter})),h=Object(l.d)((function(e){return e.sorting})).sorting;Object(r.useEffect)((function(){(function(){var e=Object(se.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(1,O,h);case 3:1===(t=e.sent).data.total_pages&&b(!1),p(Object(le.a)(t.data.results)),n(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(e.t0),n(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[O,h]);var _=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t+1,O,h);case 3:(a=e.sent).data.total_pages===t+1&&b(!1),p((function(e){return Object(le.a)(e.concat(a.data.results))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return a?o.a.createElement(re,{isFullScrean:!0}):o.a.createElement(xt,{loadMore:_,movies:E,error:s,hasMore:g})},kt=a(277),wt=a(296),Mt=a(278),Pt=a(279),Dt=a(292),Lt=a(94),Wt=a.n(Lt),Bt=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Ft=Object(he.a)(h)((function(e){var t=Bt(),a=Object(F.f)(),n=Object(r.useState)(null),i=Object($.a)(n,2),c=i[0],l=i[1],s=Object(r.useState)(""),u=Object($.a)(s,2),m=u[0],d=u[1],E=Object(r.useState)(""),p=Object($.a)(E,2),f=p[0],v=p[1];return o.a.createElement(kt.a,{component:"main",maxWidth:"xs"},c&&o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG),o.a.createElement(Mt.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(wt.a,{className:t.avatar},o.a.createElement(Wt.a,null)),o.a.createElement(pe.a,{component:"h1",variant:"h5"},Pe.LOGIN_TITLE),o.a.createElement(Dt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:Pe.EMAIL,name:"email",autoComplete:"email",autoFocus:!0,value:m,onInput:function(e){return d(e.target.value)}}),o.a.createElement(Dt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:Pe.PASSWORD,type:"password",id:"password",autoComplete:"current-password",value:f,onInput:function(e){return v(e.target.value)}}),o.a.createElement(ut.a,{onClick:function(){e.firebase.doSignInWithEmailAndPassword(m,f).then((function(){return a.push("/")})).catch((function(e){l(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit},Pe.LOGIN_BTN),o.a.createElement(He.a,{container:!0},o.a.createElement(He.a,{item:!0},o.a.createElement(Pt.a,{href:"sign-up",variant:"body2"},Pe.DO_NOT_HAVE_ACCOUNT)))))})),Gt=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var Ut=Object(he.a)(h)((function(e){var t=Gt(),a=Object(F.f)(),n=Object(r.useState)(null),i=Object($.a)(n,2),c=i[0],l=i[1],s=Object(r.useState)(""),u=Object($.a)(s,2),m=u[0],d=u[1],E=Object(r.useState)(""),p=Object($.a)(E,2),f=p[0],v=p[1],g=Object(r.useState)(""),b=Object($.a)(g,2),O=b[0],h=b[1],_=Object(r.useState)(""),I=Object($.a)(_,2),S=I[0],N=I[1];return o.a.createElement(kt.a,{component:"main",maxWidth:"xs"},c&&o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG),o.a.createElement(Mt.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(wt.a,{className:t.avatar},o.a.createElement(Wt.a,null)),o.a.createElement(pe.a,{component:"h1",variant:"h5"},De.TITLE),o.a.createElement(He.a,{container:!0,spacing:2},o.a.createElement(He.a,{item:!0,xs:12,sm:6},o.a.createElement(Dt.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:De.FIRST_NAME,autoFocus:!0,value:O,onInput:function(e){return h(e.target.value)}})),o.a.createElement(He.a,{item:!0,xs:12,sm:6},o.a.createElement(Dt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:De.LAST_NAME,name:"lastName",autoComplete:"lname",value:S,onInput:function(e){return N(e.target.value)}})),o.a.createElement(He.a,{item:!0,xs:12},o.a.createElement(Dt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:De.EMAIL,name:"email",autoComplete:"email",value:m,onInput:function(e){return d(e.target.value)}})),o.a.createElement(He.a,{item:!0,xs:12},o.a.createElement(Dt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:De.PASSWORD,type:"password",id:"password",autoComplete:"current-password",value:f,onInput:function(e){return v(e.target.value)}}))),o.a.createElement(ut.a,{onClick:function(){e.firebase.doCreateUserWithEmailAndPassword(m,f).then((function(t){return e.firebase.user(t.user.uid).set({firstName:O,lastName:S,email:m})})).then((function(){return a.push("/")})).catch((function(e){l(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit},De.SIGN_UP_BTN),o.a.createElement(He.a,{container:!0,justify:"flex-end"},o.a.createElement(He.a,{item:!0},o.a.createElement(Pt.a,{href:"log-in",variant:"body2"},De.ALREADY_HAVE_AN_ACCOUNT)))))})),Ht=Object(U.a)((function(){return{mainContent:{marginTop:"7rem",marginBottom:"2.5rem"}}}));var Vt=function(e){var t=e.children,a=Ht();return o.a.createElement(kt.a,{className:a.mainContent},t)},Yt=function(e){var t,a=e.authUser,n=(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.favorites)||{},r=Object.values(n);return o.a.createElement(Vt,null,r.length?o.a.createElement(lt,{movies:r,title:Me.TITLE,hasMore:!1,md:4,sm:6}):o.a.createElement(ge,{text:Me.YOU_HAVE_NO_FAVORTITE_MOVIES}))};Yt.defaultProps={authUser:{user:null}};var zt=Yt;var qt=function(){return o.a.createElement(X.Consumer,null,(function(e){return o.a.createElement(zt,{authUser:e})}))},Kt=a(132),Jt=a.n(Kt),Xt=a(133),Qt=a.n(Xt),Zt=a(134),$t=a.n(Zt),ea=(a(218),a(219),Object(U.a)((function(){return{arrowBtn:{background:"transparent",borderRadius:"50%",borderWidth:"1px",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none"}}})));function ta(e){var t=e.onClick,a=e.icon,n=e.className,r=ea();return o.a.createElement("button",{onClick:t,className:"".concat(r.arrowBtn," ").concat(n),type:"button"},a)}ta.defaultProps={className:"",onClick:function(){}};var aa=o.a.memo(ta),na=Object(U.a)((function(){return{sliderItemWrapper:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.3125rem"}}}));var ra=function(e){var t=e.children,a=na();return o.a.createElement("div",{className:a.sliderItemWrapper},t)},oa=Object(U.a)((function(){return{sliderContainer:{paddingLeft:"2rem",paddingRight:"2rem"},arrowBtn:{position:"absolute",top:"50%",transform:"translate(0, -50%)"},nextBtn:{right:"-1rem"},prevBtn:{left:"-1rem"}}}));function ia(e){var t=e.onClick,a=oa();return o.a.createElement(aa,{className:"".concat(a.arrowBtn," ").concat(a.nextBtn),onClick:t,icon:o.a.createElement(Qt.a,null)})}function ca(e){var t=e.onClick,a=oa();return o.a.createElement(aa,{className:"".concat(a.arrowBtn," ").concat(a.prevBtn),onClick:t,icon:o.a.createElement($t.a,null)})}ia.defaultProps={onClick:function(){}},ca.defaultProps={onClick:function(){}};function la(e){var t=e.items,a=e.loading,n=e.error,r=e.noItemsMessage,i=e.settings,c=e.nextArrow,l=e.prevArrow,s=oa();i.nextArrow=c,i.prevArrow=l;return a?o.a.createElement(re,null):function(){return n?o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG):t.length?o.a.createElement(Jt.a,Object.assign({},(e=i,a=t.length,e.slidesToShow=Math.min(e.slidesToShow,a),e.responsive.forEach((function(e){var t=e.settings;t.slidesToShow=Math.min(t.slidesToShow,a)})),e),{className:s.sliderContainer}),t.map((function(e){return o.a.createElement(ra,{key:e.key},e)}))):o.a.createElement("span",null,r);var e,a}()}la.defaultProps={loading:!1,error:null,noItemsMessage:Ce.NO_ELEMENTS_TO_SHOW,settings:{infinite:!0,speed:500,slidesToShow:12,slidesToScroll:1,lazyLoad:null,responsive:[{breakpoint:1280,settings:{slidesToShow:8}},{breakpoint:960,settings:{slidesToShow:12}},{breakpoint:600,settings:{slidesToShow:8}},{breakpoint:480,settings:{slidesToShow:4}}]},nextArrow:o.a.createElement(ia,null),prevArrow:o.a.createElement(ca,null)};var sa=la,ua={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:4,draggable:!1,lazyLoad:"progressive",responsive:[{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:960,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};function ma(e){var t=e.movies,a=e.loading,n=e.error,r=e.noItemsMessage,i=e.configs.images,c=i.base_url,l=i.poster_sizes,s=t.map((function(e){return o.a.createElement(ot,{key:e.id,movie:e,baseUrl:c,posterSizes:l})}));return o.a.createElement(sa,{items:s,settings:ua,loading:a,error:n,noItemsMessage:r})}ma.defaultProps={noItemsMessage:xe.NO_MOVIES_TO_SHOW,error:null};var da=Object(he.a)(Ge)(ma);function Ea(e){var t=e.movieId,a=e.noItemsMessage,n=Object(_e.a)(Object(se.a)(ce.a.mark((function e(){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Se.get("/movie/".concat(r,"/recommendations"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.results;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),r=n.value,i=n.loading,c=n.error;return o.a.createElement(He.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},o.a.createElement(ge,{text:xe.RECOMMENDED_MOVIES}),o.a.createElement(da,{movies:null!==r&&void 0!==r?r:[],loading:i,error:c,noItemsMessage:a}))}Ea.defaultProps={noItemsMessage:ye.NO_RECOMMENDED_MOVIES};var pa=Ea;function fa(e){var t=e.movieId,a=e.noItemsMessage,n=Object(_e.a)(Object(se.a)(ce.a.mark((function e(){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Se.get("/movie/".concat(r,"/similar"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.results;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),r=n.value,i=n.loading,c=n.error;return o.a.createElement(He.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},o.a.createElement(ge,{text:xe.SIMILAR_MOVIES}),o.a.createElement(da,{movies:null!==r&&void 0!==r?r:[],loading:i,noItemsMessage:a,error:c}))}fa.defaultProps={noItemsMessage:ye.NO_SIMILAR_MOVIES};var va=fa,ga=Object(U.a)((function(e){return{imageWrapper:{display:"flex",justifyContent:"center"},image:Object(Ee.a)({maxWidth:"100%",maxHeight:"100%",height:"40rem",objectFit:"cover",borderRadius:"0.8rem",boxShadow:"0.3125rem 0.3125rem 0.625rem #a1a1a1"},e.breakpoints.down("sm"),{height:"30rem"})}}));var ba=Object(he.a)(Ge)(o.a.memo((function(e){var t=e.title,a=e.src,n=e.configs,r=ga(),i=n.images,c=i.base_url,l=i.poster_sizes,s=a?"".concat(c).concat(l[4]).concat(a):nt.a;return o.a.createElement("div",{className:r.imageWrapper},o.a.createElement("img",{src:s,title:t,alt:t,className:r.image}))}))),Oa=Object(U.a)((function(e){return{tagline:Object(Ee.a)({textTransform:"uppercase",fontWeight:"bold",marginBottom:"0.625rem"},e.breakpoints.down("sm"),{fontSize:"1rem"}),title:Object(Ee.a)({marginBottom:"1rem"},e.breakpoints.down("sm"),{fontSize:"2.2rem"})}}));function ha(e){var t=e.title,a=e.tagline,n=Oa();return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,{className:n.title,variant:"h3",color:"textPrimary",component:"h1"},t),a&&o.a.createElement(pe.a,{className:n.tagline,variant:"h6",color:"textPrimary",component:"p"},a))}ha.defaultProps={tagline:""};var _a=o.a.memo(ha),Ia=a(136),Sa=a.n(Ia),Na=a(138),Ta=a.n(Na),ja=a(137),Ra=a.n(ja),Aa=a(135),ya=a.n(Aa),xa=Object(U.a)((function(){return{basicInfoWrapper:{marginTop:"2rem"},basicInfoItem:{fontWeight:"bold",marginBottom:"0.25rem"},iconWrapper:{display:"inline-block",verticalAlign:"middle",width:"2rem"}}}));function Ca(e){var t=e.releaseDate,a=e.originaLanguage,n=e.runtime,r=e.budget,i=xa();return o.a.createElement("div",{className:i.basicInfoWrapper},!!t&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:xe.RELEASE_DATE},o.a.createElement(ya.a,null)),t),!!n&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:xe.DURATION},o.a.createElement(Sa.a,null)),n," ",xe.MIN),!!r&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:xe.BUDGET},o.a.createElement(Ra.a,null)),r),!!a&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:xe.ORIGINAL_LANGUAGE},o.a.createElement(Ta.a,null)),a.toUpperCase()))}Ca.defaultProps={releaseDate:"",originaLanguage:"",runtime:0,budget:0};var ka=o.a.memo(Ca),wa=Object(U.a)((function(){return{description:{lineHeight:1.6,marginBottom:"1rem"}}}));var Ma=o.a.memo((function(e){var t=e.overview,a=wa();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge,{text:xe.OVERVIEW}),o.a.createElement(pe.a,{className:a.description,variant:"subtitle1",color:"textPrimary",component:"p"},t))})),Pa=Object(U.a)((function(){return{genreItem:{marginRight:"0.5rem",marginTop:"0.25rem"}}}));var Da=function(e){var t=e.genres,a=Object(l.c)(),n=Pa(),r=Object(F.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge,{text:xe.GENRES}),t.map((function(e){var t=e.name,i=e.id;return o.a.createElement(Et.a,{className:n.genreItem,key:i,clickable:!0,color:"primary",variant:"outlined",label:t,onClick:function(){!function(e){a({type:"RESET_FILTER_ACTION"}),a(Q([e])),r.push("/")}(i)}})})))},La=a(280);var Wa=function(e){var t=e.movieId,a=e.baseUrl,n=e.posterSizes,i=Object(_e.a)(Object(se.a)(ce.a.mark((function e(){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Se.get("/movie/".concat(r,"/credits"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.cast;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),c=i.value,l=i.loading,s=i.error,u="".concat(a).concat(n[0]),m=Object(r.useMemo)((function(){return new Array(10).fill(0).map((function(e,t){return o.a.createElement(La.a,{key:t.toString()},o.a.createElement(wt.a,null))}))}),[]),d=l?m:(c||[]).map((function(e){var t=e.profile_path,a=u+t;return o.a.createElement(wt.a,{key:e.id,src:a,title:e.name})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge,{text:xe.CAST}),o.a.createElement(sa,{items:d,error:s}))};var Ba=Object(he.a)(Ge)((function(e){var t,a=e.movie,n=e.configs,i=a.id,c=a.title,l=a.tagline,s=a.vote_average,u=a.release_date,m=a.original_language,d=a.runtime,E=a.budget,p=a.overview,f=a.genres,v=s/2,g=n.images,b=g.base_url,O=g.poster_sizes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(_a,{title:c,tagline:l}),Object(r.useMemo)((function(){return o.a.createElement(tt.a,{readOnly:!0,value:v,precision:.5,icon:o.a.createElement(et.a,null)})}),[v]),(u||d||E||m)&&o.a.createElement(ka,{releaseDate:u,runtime:d,budget:E,originaLanguage:m}),(t=f,!(!Array.isArray(t)||!t.length)&&o.a.createElement(Da,{genres:f})),p&&o.a.createElement(Ma,{overview:p}),o.a.createElement(Wa,{movieId:i,baseUrl:b,posterSizes:O}))})),Fa=function(e){var t=e.movie,a=e.error;return o.a.createElement(Vt,null,t?o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,null,o.a.createElement("title",null,t.title," - ",Ae.TITLE),o.a.createElement("meta",{name:"description",content:t.overview})),o.a.createElement(He.a,{container:!0,justify:"center",spacing:6},o.a.createElement(He.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4},o.a.createElement(ba,{title:t.title,src:t.poster_path})),o.a.createElement(He.a,{item:!0,xs:12,sm:12,md:6,lg:8,xl:8},o.a.createElement(Ba,{movie:t}))),o.a.createElement(He.a,{container:!0,justify:"flex-start",spacing:4},o.a.createElement(pa,{movieId:t.id,noItemsMessage:ye.NO_RECOMMENDED_MOVIES}),o.a.createElement(va,{movieId:t.id,noItemsMessage:ye.NO_SIMILAR_MOVIES}))):a&&o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG))};Fa.defaultProps={error:null};var Ga=Fa,Ua=function(e){var t=e.location.pathname.split("/")[2],a=Object(_e.a)(Object(se.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t);case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=a.data;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=null;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)}))),[t]),n=a.value,r=a.loading,i=a.error;return r?o.a.createElement(re,{isFullScrean:!0}):o.a.createElement(Ga,{movie:n,error:i})},Ha=function(e){var t=e.query,a=e.movies,n=e.error,r=e.hasMore,i=e.loadMore;return o.a.createElement(Vt,null,a.length?o.a.createElement(lt,{movies:a,hasMore:r,loadMore:i,title:"".concat(Le.SEARCH_BY,' "').concat(t,'"'),md:4,sm:6}):n?o.a.createElement(me.a,{variant:"outlined",severity:"error"},Be.SOMETHING_WENT_WRONG):o.a.createElement(ge,{text:"".concat(Le.NO_MOVIES_FOUND_BY,' "').concat(t,'"')}))};Ha.defaultProps={movies:[],error:null,hasMore:!0};var Va=Ha,Ya=[{id:1,path:"/",exact:!0,private:!1,component:Ct},{id:2,path:"/movie/:id",exact:!0,private:!1,component:Ua},{id:3,path:"/log-in",exact:!0,private:!1,component:Ft},{id:4,path:"/sign-up",exact:!0,private:!1,component:Ut},{id:5,path:"/favorites",exact:!0,private:!0,component:qt},{id:6,path:"/search/:query",exact:!0,private:!1,component:function(e){var t=e.location.pathname.split("/")[2],a=Object(r.useState)(!0),n=Object($.a)(a,2),i=n[0],c=n[1],l=Object(r.useState)(null),s=Object($.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)([]),E=Object($.a)(d,2),p=E[0],f=E[1],v=Object(r.useState)(!0),g=Object($.a)(v,2),b=g[0],O=g[1];Object(r.useEffect)((function(){(function(){var e=Object(se.a)(ce.a.mark((function e(){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(1,t);case 3:1===(a=e.sent).data.total_pages&&O(!1),f(Object(le.a)(a.data.results)),c(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(e.t0),c(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var h=function(){var e=Object(se.a)(ce.a.mark((function e(a){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(a+1,t);case 3:(n=e.sent).data.total_pages===a+1&&O(!1),f((function(e){return Object(le.a)(e.concat(n.data.results))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return i?o.a.createElement(re,{isFullScrean:!0}):o.a.createElement(Va,{loadMore:h,movies:p,error:u,hasMore:b,query:t})}}],za=a(283),qa=a(284),Ka=a(285),Ja=a(143),Xa=a.n(Ja),Qa=a(26),Za=a(291),$a=a(281),en=a(139),tn=a.n(en),an=a(140),nn=a.n(an),rn=Object(U.a)((function(e){return{hide:{display:"none"},drawer:{width:"100%",flexShrink:0},drawerPaper:{width:"100%",maxWidth:"320px"},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"})}}));function on(e){var t=e.open,a=e.onClose,n=rn(),r=Object(Qa.a)();return o.a.createElement(Za.a,{className:n.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:n.drawerPaper}},o.a.createElement("div",{className:n.drawerHeader},o.a.createElement(pe.a,{variant:"subtitle1",component:"p"},we.FILTERS_AND_SORTING),o.a.createElement(Ke.a,{onClick:a},"ltr"===r.direction?o.a.createElement(tn.a,null):o.a.createElement(nn.a,null))),o.a.createElement($a.a,null),o.a.createElement(Rt,null))}on.defaultProps={open:!1};var cn=on,ln=a(282),sn=a(67),un=a.n(sn),mn=a(142),dn=a.n(mn),En=a(7),pn=a(151),fn=a(141),vn=a.n(fn),gn=Object(U.a)((function(e){var t;return{search:{display:"flex",alignItems:"center",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(En.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(En.c)(e.palette.common.white,.25)},marginLeft:0,marginRight:0,width:"100%"},searchBtn:{position:"absolute",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.primary.light,padding:"0 0.625rem",borderRadius:0},inputRoot:{color:"inherit"},searchInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(Ee.a)(t,e.breakpoints.up("md"),{width:"20ch"}),Object(Ee.a)(t,"borderBottom","1px solid ".concat(e.palette.grey[200])),Object(Ee.a)(t,"color",e.palette.secondary.dark),t)}}));var bn=o.a.memo((function(){var e=Object(r.useState)(""),t=Object($.a)(e,2),a=t[0],n=t[1],i=Object(F.f)(),c=function(e){e.preventDefault(),e.stopPropagation(),a.trim()&&i.push("/search/".concat(a))},l=gn();return o.a.createElement("div",{className:l.search},o.a.createElement(Ke.a,{className:l.searchBtn,onClick:c},o.a.createElement(vn.a,null)),o.a.createElement(pn.a,{placeholder:ke.SEARCH_PLACEHOLDER,color:"secondary",classes:{root:l.inputRoot,input:l.searchInput},onInput:function(e){return n(e.target.value)},onKeyDown:function(e){13===e.keyCode&&c(e)}}))})),On=Object(U.a)((function(e){return{actionsWrapper:{display:"flex"},flex:{display:"flex"},moreIcon:{marginRight:"-12px"},favoritesBadge:{color:e.palette.error.dark},favoritesIcon:{color:e.palette.error.dark}}}));var hn=Object(he.a)(h)((function(e){var t=e.setMobileMoreAnchorEl,a=e.firebase,n=On(),r=Object(F.f)(),i=Object(de.a)("(min-width: 960px)"),c=function(e){t(e.currentTarget)},l=function(){a.doSignOut()},s=function(){r.push("log-in")},u=function(){r.push("favorites")};return o.a.createElement(X.Consumer,null,(function(e){var t;return o.a.createElement("div",{className:n.actionsWrapper},o.a.createElement(bn,null),i?o.a.createElement("div",{className:n.flex},e.user&&o.a.createElement(Ke.a,{onClick:u},o.a.createElement(ln.a,{badgeContent:Object.keys((null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.favorites)||{}).length,className:n.favoritesBadge},o.a.createElement(Xe.a,{className:n.favoritesIcon}))),o.a.createElement(Ke.a,{edge:"end",color:"primary"},e.user?o.a.createElement(un.a,{onClick:l}):o.a.createElement(un.a,{onClick:s}))):o.a.createElement("div",null,o.a.createElement(Ke.a,{onClick:c},o.a.createElement(dn.a,{color:"secondary",className:n.moreIcon}))))}))})),_n=a(146),In=Object(U.a)((function(e){return{favoritesBadge:{color:e.palette.error.dark},favoritesIcon:{color:e.palette.error.dark}}}));function Sn(e){var t=e.mobileMoreAnchorEl,a=e.onClose,n=e.firebase,r=In(),i=Object(F.f)(),c=Boolean(t),l=function(){n.doSignOut()},s=function(){i.push("log-in")},u=function(){i.push("favorites")};return o.a.createElement(X.Consumer,null,(function(e){var n;return o.a.createElement(_n.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:a},o.a.createElement(ht.a,null,e.user&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ke.a,{onClick:u},o.a.createElement(ln.a,{badgeContent:Object.keys((null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.favorites)||{}).length,className:r.favoritesBadge},o.a.createElement(Xe.a,{className:r.favoritesIcon}))),o.a.createElement("p",null,ke.FAVORITES))),o.a.createElement(ht.a,null,o.a.createElement(Ke.a,{color:"primary"},e.user?o.a.createElement(un.a,{onClick:l}):o.a.createElement(un.a,{onClick:s})),o.a.createElement("p",null,ke.SIGN_OUT)))}))}Sn.defaultProps={mobileMoreAnchorEl:null};var Nn=Object(he.a)(h)(Sn),Tn=Object(U.a)((function(e){return{title:{color:e.palette.primary.light},link:{textDecoration:"none"}}}));var jn=o.a.memo((function(){var e=Tn();return o.a.createElement(B.b,{className:e.link,to:"/"},o.a.createElement(pe.a,{className:e.title,variant:"h6",color:"secondary",align:"center"},Ae.TITLE))})),Rn=Object(U.a)((function(){return{grow:{flexGrow:1},header:{background:"#fff"},toolbar:{justifyContent:"space-between"}}}));var An=function(){var e=Rn(),t=Object(r.useState)(null),a=Object($.a)(t,2),n=a[0],i=a[1],c=Object(za.a)(!1),l=Object($.a)(c,2),s=l[0],u=l[1],m=Object(de.a)("(min-width: 960px)");return o.a.createElement("div",{className:e.grow},o.a.createElement(qa.a,{className:e.header},!m&&o.a.createElement(jn,null),o.a.createElement(Ka.a,{className:e.toolbar},!m&&o.a.createElement(Ke.a,{edge:"start",className:e.menuButton,onClick:u,color:"secondary"},o.a.createElement(Xa.a,null)),m&&o.a.createElement(jn,null),o.a.createElement(hn,{setMobileMoreAnchorEl:i}))),o.a.createElement(Nn,{onClose:function(){i(null)},mobileMoreAnchorEl:n}),o.a.createElement(cn,{open:s,onClose:u}))},yn=Object(U.a)((function(e){var t=e.palette;return{pageWrap:{minWidth:"320px",overflow:"hidden"},scrollToTopBtn:{display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",border:"1px solid ".concat(t.info.main),borderRadius:"50%"}}}));var xn=Z((function(){var e=Object(H.a)(J),t=yn();return o.a.createElement(V.a,{theme:e},o.a.createElement(Ue.Provider,{value:{}},o.a.createElement(G.a,null,o.a.createElement("title",null,Ae.TITLE),o.a.createElement("meta",{name:"description",content:Ae.DESCRIPTION}),o.a.createElement("meta",{name:"keywords",content:Ae.KEYWORDS}),o.a.createElement("meta",{name:"MobileOptimized",content:"320"})),o.a.createElement("div",{className:t.pageWrap},o.a.createElement(B.a,{basename:"/react-movies-library"},o.a.createElement(An,null),o.a.createElement(F.c,null,Ya.map((function(e){var t=e.component;return e.private?o.a.createElement(oe,{key:e.id,path:e.path,exact:!!e.exact,component:t}):o.a.createElement(F.a,{key:e.id,path:e.path,exact:!!e.exact,component:t})})))),o.a.createElement(K.a,{showUnder:480},o.a.createElement("div",{className:t.scrollToTopBtn},o.a.createElement(z.a,{color:"primary"}))))))}));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:b},o.a.createElement(_.Provider,{value:W},o.a.createElement(xn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a.p+"static/media/noImage.7ebd0560.svg"}},[[166,1,2]]]);
//# sourceMappingURL=main.d75f7e3a.chunk.js.map