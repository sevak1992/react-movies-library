(this["webpackJsonpmovies-library"]=this["webpackJsonpmovies-library"]||[]).push([[0],{166:function(e,t,a){e.exports=a(220)},180:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"doCreateUserWithEmailAndPassword",(function(){return y})),a.d(n,"doSignInWithEmailAndPassword",(function(){return x})),a.d(n,"doSignInWithGoogle",(function(){return C})),a.d(n,"doSignOut",(function(){return w})),a.d(n,"user",(function(){return k})),a.d(n,"users",(function(){return M})),a.d(n,"favorites",(function(){return P})),a.d(n,"favorite",(function(){return L})),a.d(n,"onAuthUserListener",(function(){return D}));var r=a(0),o=a.n(r),i=a(12),c=a.n(i),l=a(29);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(42),u=(a(175),a(26)),m={genres:[],yearsRange:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_GENRES_FILTER_ACTION":return Object(u.a)(Object(u.a)({},e),{},{genres:t.genres});case"ADD_YEAR_FILTER_ACTION":return Object(u.a)(Object(u.a)({},e),{},{yearsRange:t.yearsRange});case"RESET_FILTER_ACTION":return{genres:[],yearsRange:null};default:return e}},p={user:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOG_OUT_ACTION":return{user:null};case"USER_LOG_IN_ACTION":return{user:t.data};default:return e}},f={sorting:"popularity.desc"},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SORTING_ACTION":return Object(u.a)(Object(u.a)({},e),{},{sorting:t.sorting});default:return e}},g=Object(s.combineReducers)({filter:d,sorting:v,user:E}),b=Object(s.createStore)(g),O=o.a.createContext(null),h=function(e){return function(t){return o.a.createElement(O.Consumer,null,(function(a){return o.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},_=O,I=a(76),S=a.n(I),N=(a(176),a(178),a(221),Object({NODE_ENV:"production",PUBLIC_URL:"/react-movies-library",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TMDB_API_KEY:"a8ce71118c2014fa9f61d61b5464d5bf",REACT_APP_FIREBASE_API_KEY:"AIzaSyCMSZgmSbjpXMRthBHxEYOnXy07UofHRfI",REACT_APP_FIREBASE_AUTH_DOMAIN:"tmtb-b8251.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://tmtb-b8251.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-S71TJRLWGQ",REACT_APP_FIREBASE_PROJECT_ID:"tmtb-b8251",REACT_APP_FIREBASE_APP_ID:"1:657364492166:web:eabc247df61f2feb3d1607"})),T={apiKey:N.REACT_APP_FIREBASE_API_KEY,authDomain:N.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:N.REACT_APP_FIREBASE_DATABASE_URL,measurementId:N.REACT_APP_FIREBASE_MEASUREMENT_ID,projectId:N.REACT_APP_FIREBASE_PROJECT_ID,appId:N.REACT_APP_FIREBASE_APP_ID};S.a.initializeApp(T);var j=S.a.auth(),R=S.a.database(),A=new S.a.auth.GoogleAuthProvider,y=function(e,t){return j.createUserWithEmailAndPassword(e,t)},x=function(e,t){return j.signInWithEmailAndPassword(e,t)},C=function(){return j.signInWithPopup(A).then((function(e){return e}))},w=function(){return j.signOut()},k=function(e){return R.ref("users/".concat(e))},M=function(){return R.ref("users")},P=function(e){return R.ref("favorites/".concat(e))},L=function(){return R.ref("favorites")},D=function(e){return j.onAuthStateChanged((function(t){t?k(t.uid).once("value").then((function(a){var n=a.val();n?P(t.uid).on("value",(function(a){var r=a.val();t=Object(u.a)({uid:t.uid,email:t.email,emailVerified:t.emailVerified,providerData:t.providerData,favorites:r||{}},n),e(t)})):e({})})).catch((function(){})):e(null)}))},W=n,B=(a(180),a(24)),G=a(16),F=a(79),U=a(260),H=a(146),V=a(285),Y=a(145),z=a.n(Y),q=a(128),K=a.n(q),J={palette:{primary:{main:"#0292F2"},secondary:{main:"#5A5A5A"}},typography:{fontFamily:'"Roboto", "-apple-system, BlinkMacSystemFont, "Segoe UI", "Lato",\n    "Helvetica Neue", sans-serif"',button:{textTransform:"capitalize",fontSize:"1.125rem"}}},X=o.a.createContext(null),Q=function(e){return{genres:e,type:"ADD_GENRES_FILTER_ACTION"}},Z=function(e){return Object(l.b)((function(e){return{user:e.user}}))(h((function(t){var a=t.user;return Object(r.useEffect)((function(){t.firebase.onAuthUserListener((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),t.dispatch({type:"USER_LOG_IN_ACTION",data:e}),localStorage.setItem("userId",JSON.stringify(e.uid))):(localStorage.removeItem("authUser"),t.dispatch(function(e){return{type:"USER_LOG_OUT_ACTION",data:e}}(null)))}),(function(){localStorage.removeItem("authUser")}))}),[]),o.a.createElement(X.Provider,{value:a},o.a.createElement(e,t))})))},$=a(10),ee=a(148),te=a(14),ae=a.n(te),ne=a(46),re=a(23),oe=a(262),ie=Object(U.a)((function(){return{fullScrean:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},alignCenter:{display:"block",marginLeft:"auto",marginRight:"auto"}}}));function ce(e){var t=e.isFullScrean,a=ie();return t?o.a.createElement("div",{className:a.fullScrean},o.a.createElement(oe.a,{size:80})):o.a.createElement(oe.a,{className:a.alignCenter})}ce.defaultProps={isFullScrean:!1};var le=o.a.memo(ce),se=a(286),ue=a(288),me=a(276),de=a(25),pe=a(263),Ee=Object(U.a)((function(e){return{heading:Object(de.a)({marginTop:"2rem",marginBottom:"0.5rem",textTransform:"uppercase"},e.breakpoints.down("sm"),{fontSize:"1.2rem",marginTop:"1rem"})}}));function fe(e){var t=e.text,a=e.variant,n=e.color,r=e.component,i=Ee();return o.a.createElement(pe.a,{className:i.heading,variant:a,color:n,component:r},t)}fe.defaultProps={variant:"h5",color:"textPrimary",component:"h4"};var ve=o.a.memo(fe),ge=a(129),be=a.n(ge),Oe=a(22),he=a(292),_e=a(131),Ie=a.n(_e).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"".concat("a8ce71118c2014fa9f61d61b5464d5bf")}}),Se=function(e){return Ie.get("/movie/".concat(e))},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={query:t,page:e,include_adult:!1};return Ie.get("/search/movie",{params:a})},Te=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o={page:a,include_adult:!1};return(null===(e=n.genres)||void 0===e?void 0:e.length)&&(o.with_genres=n.genres.join()),(null===(t=n.yearsRange)||void 0===t?void 0:t.length)&&2===n.yearsRange.length&&(o["primary_release_date.gte"]=new Date(n.yearsRange[0],0,1,0,0,0,0),o["primary_release_date.lte"]=new Date(n.yearsRange[1],11,31,23,59,59,999)),o.sort_by=r,Ie.get("/discover/movie",{params:o})},je={YEARS_NUM:50,SORTINGS:[{label:"Popularity Descending",value:"popularity.desc"},{label:"Popularity Ascending",value:"popularity.asc"},{label:"Rating Descending",value:"vote_average.desc"},{label:"Rating Ascending",value:"vote_average.asc"},{label:"Release Date Descending",value:"release_date.desc"},{label:"Release Date Ascending",value:"release_date.asc"}]},Re={TITLE:"Movies Library",DESCRIPTION:"Movies Library is a, database for movies.",KEYWORDS:"Movies, Reviews, Actors, Actresses, Photos, User Ratings, Cast",SIGN_OUT_BTN:"Sign out",LOGIN_BTN:"Login"},Ae={NO_RECOMMENDED_MOVIES:"There is no recommended movies.",NO_SIMILAR_MOVIES:"There is no similar movies."},ye={RELEASE_DATE:"Release date",DURATION:"Duration",MIN:"Min.",BUDGET:"Budget",ORIGINAL_LANGUAGE:"Original language",CAST:"Cast",GENRES:"Genres",OVERVIEW:"Overview",RECOMMENDED_MOVIES:"Recommended Movies",SIMILAR_MOVIES:"Similar Movies",NO_MOVIES_TO_SHOW:"There is no movies to show."},xe={NO_ELEMENTS_TO_SHOW:"There is no elements to show."},Ce={FAVORITES:"Favorites",SIGN_OUT:"Sign Out",LOGIN:"Login",SEARCH_PLACEHOLDER:"Search..."},we={FILTERS_AND_SORTING:"Filters/Sorting"},ke={TITLE:"Favorites",YOU_HAVE_NO_FAVORTITE_MOVIES:"You've no favorite movies."},Me={LOGIN_TITLE:"Login",LOGIN_BTN:"LogIn",EMAIL:"Email",PASSWORD:"Password",DO_NOT_HAVE_ACCOUNT:"Do not have an account? Sign Up"},Pe={TITLE:"Sign up",FIRST_NAME:"First Name",LAST_NAME:"Last Name",EMAIL:"Email",PASSWORD:"Password",SIGN_UP_BTN:"Sign up",ALREADY_HAVE_AN_ACCOUNT:"Already have an account? Log in"},Le={SEARCH_BY:"Search By",NO_MOVIES_FOUND_BY:"No movies found by"},De={GENRE:"Genre",SORT_BY:"Sort By",YEAR:"Year",FILTER_BTN:"Filter",RESET_FILTER_BTN:"Reset",NO_MOVIES_FOUND_BY_PROVIDED_FILTERS:"No movies found by provided filter"},We={SOMETHING_WENT_WRONG:"Oops, Something Went Wrong."},Be=o.a.createContext(null),Ge=function(e){return function(t){var a=Object(he.a)(Object(re.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.get("configuration");case 2:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===t;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=t.data;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=null;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)}))),[]),n=a.value,r=a.loading,i=a.error;return r?o.a.createElement(le,{isFullScrean:!0}):i?o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG):o.a.createElement(Be.Consumer,null,(function(){return o.a.createElement(e,Object.assign({},t,{configs:n}))}))}},Fe=Be,Ue=a(269),He=a(265),Ve=a(266),Ye=a(267),ze=a(268),qe=a(264),Ke=a(60),Je=a.n(Ke),Xe=a(132),Qe=a.n(Xe),Ze=a(90),$e=a.n(Ze),et=a(293),tt=a(88),at=a.n(tt),nt=Object(U.a)((function(e){return{link:{textDecoration:"none",display:"block",width:"100%"},itemImage:{height:"24rem"},movieItem:{position:"relative",maxWidth:"17.5rem",marginLeft:"auto",marginRight:"auto",transition:"all 0.3s ease","&:hover":{transform:"scale(1.015)"}},actions:{position:"absolute",top:0,left:0,width:"100%",padding:0,background:"rgba(0,0,0,0.2)",justifyContent:"flex-end"},favoritesIcon:{cursor:"pointer",color:e.palette.error.dark}}}));var rt=Object(Oe.a)(h)((function(e){var t=e.movie,a=e.baseUrl,n=e.posterSizes,r=e.firebase,i=nt(),c=t.poster_path,l=c?"".concat(a).concat(n[3]).concat(c):at.a,s=t.vote_average/2,m=function(e,t,a){a?e.favorites[t.id]=t:delete e.favorites[t.id],r.favorite(e.uid).update(Object(de.a)({},e.uid,Object(u.a)({},e.favorites)))};return o.a.createElement(B.b,{className:i.link,to:"".concat(Va,"/movie/").concat(t.id)},o.a.createElement(He.a,{className:i.movieItem},o.a.createElement(Ve.a,{image:l,title:t.title,className:i.itemImage}),o.a.createElement(Ye.a,null,o.a.createElement(pe.a,{variant:"h6",color:"textPrimary",component:"p",noWrap:!0},t.title),o.a.createElement(pe.a,{variant:"subtitle1",color:"textPrimary",component:"p",noWrap:!0},ye.RELEASE_DATE,": ",t.release_date),o.a.createElement(et.a,{readOnly:!0,value:s,precision:.5,icon:o.a.createElement($e.a,null)})),o.a.createElement(ze.a,{className:i.actions,disableSpacing:!0},o.a.createElement(X.Consumer,null,(function(e){return function(e,a){if(!e)return null;var n=Object.keys(e.favorites).includes(a.toString());return o.a.createElement(qe.a,{"aria-label":"add to favorites"},n?o.a.createElement(Qe.a,{onClick:function(a){return a.preventDefault(),a.stopPropagation(),m(e,t,!n)},className:i.favoritesIcon}):o.a.createElement(Je.a,{onClick:function(a){return a.preventDefault(),a.stopPropagation(),m(e,t,!n)},className:i.favoritesIcon}))}(e.user,t.id)})))))})),ot=Object(U.a)((function(){return{listingContainer:{paddingLeft:"0.5rem",paddingRight:"0.5rem"}}}));function it(e){var t=e.movies,a=e.hasMore,n=e.loadMore,r=e.configs,i=e.xs,c=e.sm,l=e.md,s=e.lg,u=e.xl,m=e.title,d=ot();if(!r.images)return"";var p=r.images,E=p.base_url,f=p.poster_sizes;return o.a.createElement(o.a.Fragment,null,t.length>0&&o.a.createElement(be.a,{pageStart:0,loadMore:n,hasMore:a,loader:o.a.createElement(se.a,{key:0,display:"flex",justifyContent:"center",mt:3},o.a.createElement(le,null))},o.a.createElement(Ue.a,{container:!0,justify:"center",spacing:3,className:d.listingContainer},m&&o.a.createElement(Ue.a,{container:!0},o.a.createElement(ve,{text:m})),t.map((function(e){return o.a.createElement(Ue.a,{key:e.id,item:!0,xs:i,sm:c,md:l,lg:s,xl:u},o.a.createElement(rt,{movie:e,baseUrl:E,posterSizes:f}))})))))}it.defaultProps={xs:12,sm:4,md:4,lg:3,xl:3,hasMore:!0,title:""};var ct=Object(Oe.a)(Ge)(it),lt=a(150),st=a(275),ut=a(271),mt=a(270),dt=a(299),pt=Object(U.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",maxWidth:220,"& > *":{margin:e.spacing(.5)}}}}));var Et=function(e){var t=e.genres,a=e.checkedGenres,n=e.onChange,r=pt(),i=function(e){return!!a.find((function(t){return t===e}))},c=function(e){return function(){i(e)?a.splice(a.indexOf(e),1):a.push(e),n(Object(ne.a)(a))}};return o.a.createElement(se.a,{mx:2,p:2},o.a.createElement(mt.a,{row:!0},o.a.createElement(ut.a,{component:"legend"},De.GENRE),o.a.createElement("div",{className:r.root},t.map((function(e){var t=e.name,a=e.id;return o.a.createElement(dt.a,{key:a,label:t,clickable:!0,color:i(a)?"primary":"secondary",onClick:c(a),variant:"outlined",size:"small"})})))))},ft=a(272),vt=a(298),gt=Object(U.a)((function(){return{formControl:{minWidth:150}}}));var bt=o.a.memo((function(e){var t=e.yearsRange,a=e.updateRange,n=e.firstYear,i=e.lastYear,c=gt(),l=Object(r.useMemo)((function(){return[{value:n,label:n},{value:i,label:i}]}),[n,i]);return o.a.createElement(se.a,{mx:2,p:2},o.a.createElement(ft.a,{className:c.formControl},o.a.createElement(ut.a,{component:"legend"},De.YEAR),o.a.createElement(vt.a,{value:t,onChange:function(e,t){a(t)},step:1,min:n,max:i,valueLabelDisplay:"auto","aria-labelledby":"range-slider",marks:l})))}),(function(e,t){return e.firstYear===t.firstYear&&e.lastYear===t.lastYear&&e.updateRange===t.updateRange&&e.yearsRange[0]===t.yearsRange[0]&&e.yearsRange[1]===t.yearsRange[1]})),Ot=a(295),ht=a(289),_t=a(273),It=Object(U.a)((function(){return{formControl:{width:220}}}));var St=o.a.memo((function(e){var t=e.selectedSorting,a=e.onChange,n=It(),i=Object(r.useState)(t),c=Object($.a)(i,2),l=c[0],s=c[1];return Object(r.useEffect)((function(){s(t)}),[t]),o.a.createElement(se.a,{mx:2,p:2},o.a.createElement(ft.a,{className:n.formControl},o.a.createElement(ut.a,{component:"legend"},De.SORT_BY),o.a.createElement(ht.a,{value:l,onChange:a,input:o.a.createElement(_t.a,null)},je.SORTINGS.map((function(e){var t=e.label,a=e.value;return o.a.createElement(Ot.a,{key:a,value:a},t)})))))})),Nt=(new Date).getFullYear(),Tt=Nt-je.YEARS_NUM;var jt=function(){var e,t,a=Object(l.c)(),n=Object(he.a)(Object(re.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.get("/genre/movie/list");case 2:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===t;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(a=t.data)||void 0===a?void 0:a.genres;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)})))),i=n.value,c=n.loading,s=n.error,u=Object(l.d)((function(e){return e.filter})),m=Object(l.d)((function(e){return e.sorting})).sorting,d=Object(r.useState)(null!==(e=u.genres)&&void 0!==e?e:[]),p=Object($.a)(d,2),E=p[0],f=p[1],v=Object(r.useState)(null!==(t=u.yearsRange)&&void 0!==t?t:[Tt,Nt]),g=Object($.a)(v,2),b=g[0],O=g[1];Object(r.useEffect)((function(){f(u.genres),O(u.yearsRange)}),[u]);var h=Object(r.useCallback)((function(){a(function(e){return{yearsRange:e,type:"ADD_YEAR_FILTER_ACTION"}}(b)),a(Q(E))}),[b,E,a]),_=Object(r.useCallback)((function(){a({type:"RESET_FILTER_ACTION"})}),[a]),I=Object(r.useCallback)((function(e){a(function(e){return{sorting:e,type:"CHANGE_SORTING_ACTION"}}(e.target.value))}),[a]);return o.a.createElement(se.a,null,o.a.createElement(lt.a,{elevation:3},o.a.createElement(St,{selectedSorting:m,onChange:I}),c?o.a.createElement(le,null):s?o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG):o.a.createElement(Et,{genres:i,checkedGenres:E,onChange:f}),o.a.createElement(bt,{yearsRange:null!==b&&void 0!==b?b:[Tt,Nt],updateRange:O,firstYear:Tt,lastYear:Nt}),Object(r.useMemo)((function(){return o.a.createElement(se.a,{pb:2,display:"flex",justifyContent:"center"},o.a.createElement(st.a,{variant:"outlined",color:"primary",onClick:h},De.FILTER_BTN))}),[h]),Object(r.useMemo)((function(){return o.a.createElement(se.a,{pb:2,display:"flex",justifyContent:"center"},o.a.createElement(st.a,{variant:"outlined",color:"secondary",onClick:_},De.RESET_FILTER_BTN))}),[_])))},Rt=Object(U.a)((function(){return{homeContent:{maxWidth:"100rem",margin:"7rem auto 2.5rem"},flexGrow:{flexGrow:1}}}));function At(e){var t=e.movies,a=e.error,n=e.hasMore,r=e.loadMore,i=Rt(),c=Object(me.a)("(min-width: 960px)");return o.a.createElement(se.a,{container:!0,m:6,ml:2,flexDirection:"row",display:"flex",className:i.homeContent},c&&o.a.createElement(se.a,{item:!0,pr:3,spacing:3},o.a.createElement(jt,null)),o.a.createElement(se.a,{item:!0,xs:6,spacing:3,className:i.flexGrow},t.length?o.a.createElement(ct,{movies:t,hasMore:n,loadMore:r}):a?o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG):o.a.createElement(ve,{text:De.NO_MOVIES_FOUND_BY_PROVIDED_FILTERS})))}At.defaultProps={movies:[],error:null,hasMore:!0};var yt=At;var xt=function(){var e=Object(r.useState)(!0),t=Object($.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(null),c=Object($.a)(i,2),s=c[0],u=c[1],m=Object(r.useState)([]),d=Object($.a)(m,2),p=d[0],E=d[1],f=Object(r.useState)(!0),v=Object($.a)(f,2),g=v[0],b=v[1],O=Object(l.d)((function(e){return e.filter})),h=Object(l.d)((function(e){return e.sorting})).sorting;Object(r.useEffect)((function(){(function(){var e=Object(re.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(1,O,h);case 3:1===(t=e.sent).data.total_pages&&b(!1),E(Object(ne.a)(t.data.results)),n(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(e.t0),n(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[O,h]);var _=function(){var e=Object(re.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(t+1,O,h);case 3:(a=e.sent).data.total_pages===t+1&&b(!1),E((function(e){return Object(ne.a)(e.concat(a.data.results))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return a?o.a.createElement(le,{isFullScrean:!0}):o.a.createElement(yt,{loadMore:_,movies:p,error:s,hasMore:g})},Ct=a(277),wt=a(296),kt=a(278),Mt=a(291),Pt=a(93),Lt=a.n(Pt),Dt=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(16),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Wt=Object(Oe.a)(h)((function(e){var t=Dt(),a=Object(G.f)(),n=Object(r.useState)(null),i=Object($.a)(n,2),c=i[0],l=i[1],s=Object(r.useState)(""),u=Object($.a)(s,2),m=u[0],d=u[1],p=Object(r.useState)(""),E=Object($.a)(p,2),f=E[0],v=E[1];return o.a.createElement(Ct.a,{component:"main",maxWidth:"xs"},c&&o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG),o.a.createElement(kt.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(wt.a,{className:t.avatar},o.a.createElement(Lt.a,null)),o.a.createElement(pe.a,{component:"h1",variant:"h5"},Me.LOGIN_TITLE),o.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:Me.EMAIL,name:"email",autoComplete:"email",autoFocus:!0,value:m,onInput:function(e){return d(e.target.value)}}),o.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:Me.PASSWORD,type:"password",id:"password",autoComplete:"current-password",value:f,onInput:function(e){return v(e.target.value)}}),o.a.createElement(st.a,{onClick:function(){e.firebase.doSignInWithEmailAndPassword(m,f).then((function(){return a.push(Ya.home.path)})).catch((function(e){l(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit},Me.LOGIN_BTN),o.a.createElement(Ue.a,{container:!0},o.a.createElement(Ue.a,{item:!0},o.a.createElement(B.b,{to:Ya.signup.path,variant:"body2"},Me.DO_NOT_HAVE_ACCOUNT)))))})),Bt=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(16),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var Gt=Object(Oe.a)(h)((function(e){var t=Bt(),a=Object(G.f)(),n=Object(r.useState)(null),i=Object($.a)(n,2),c=i[0],l=i[1],s=Object(r.useState)(""),u=Object($.a)(s,2),m=u[0],d=u[1],p=Object(r.useState)(""),E=Object($.a)(p,2),f=E[0],v=E[1],g=Object(r.useState)(""),b=Object($.a)(g,2),O=b[0],h=b[1],_=Object(r.useState)(""),I=Object($.a)(_,2),S=I[0],N=I[1];return o.a.createElement(Ct.a,{component:"main",maxWidth:"xs"},c&&o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG),o.a.createElement(kt.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(wt.a,{className:t.avatar},o.a.createElement(Lt.a,null)),o.a.createElement(pe.a,{component:"h1",variant:"h5"},Pe.TITLE),o.a.createElement(Ue.a,{container:!0,spacing:2},o.a.createElement(Ue.a,{item:!0,xs:12,sm:6},o.a.createElement(Mt.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:Pe.FIRST_NAME,autoFocus:!0,value:O,onInput:function(e){return h(e.target.value)}})),o.a.createElement(Ue.a,{item:!0,xs:12,sm:6},o.a.createElement(Mt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:Pe.LAST_NAME,name:"lastName",autoComplete:"lname",value:S,onInput:function(e){return N(e.target.value)}})),o.a.createElement(Ue.a,{item:!0,xs:12},o.a.createElement(Mt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:Pe.EMAIL,name:"email",autoComplete:"email",value:m,onInput:function(e){return d(e.target.value)}})),o.a.createElement(Ue.a,{item:!0,xs:12},o.a.createElement(Mt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:Pe.PASSWORD,type:"password",id:"password",autoComplete:"current-password",value:f,onInput:function(e){return v(e.target.value)}}))),o.a.createElement(st.a,{onClick:function(){e.firebase.doCreateUserWithEmailAndPassword(m,f).then((function(t){return e.firebase.user(t.user.uid).set({firstName:O,lastName:S,email:m})})).then((function(){return a.push(Ya.home.path)})).catch((function(e){l(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit},Pe.SIGN_UP_BTN),o.a.createElement(Ue.a,{container:!0,justify:"flex-end"},o.a.createElement(Ue.a,{item:!0},o.a.createElement(B.b,{to:Ya.login.path,variant:"body2"},Pe.ALREADY_HAVE_AN_ACCOUNT)))))})),Ft=Object(U.a)((function(){return{mainContent:{marginTop:"7rem",marginBottom:"2.5rem"}}}));var Ut=function(e){var t=e.children,a=Ft();return o.a.createElement(Ct.a,{className:a.mainContent},t)},Ht=function(e){var t,a=e.authUser,n=(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.favorites)||{},r=Object.values(n);return o.a.createElement(Ut,null,r.length?o.a.createElement(ct,{movies:r,title:ke.TITLE,hasMore:!1,md:4,sm:6}):o.a.createElement(ve,{text:ke.YOU_HAVE_NO_FAVORTITE_MOVIES}))};Ht.defaultProps={authUser:{user:null}};var Vt=Ht;var Yt=function(){return o.a.createElement(X.Consumer,null,(function(e){return o.a.createElement(Vt,{authUser:e})}))},zt=a(133),qt=a.n(zt),Kt=a(134),Jt=a.n(Kt),Xt=a(135),Qt=a.n(Xt),Zt=(a(218),a(219),Object(U.a)((function(){return{arrowBtn:{background:"transparent",borderRadius:"50%",borderWidth:"1px",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none"}}})));function $t(e){var t=e.onClick,a=e.icon,n=e.className,r=Zt();return o.a.createElement("button",{onClick:t,className:"".concat(r.arrowBtn," ").concat(n),type:"button"},a)}$t.defaultProps={className:"",onClick:function(){}};var ea=o.a.memo($t),ta=Object(U.a)((function(){return{sliderItemWrapper:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.3125rem"}}}));var aa=function(e){var t=e.children,a=ta();return o.a.createElement("div",{className:a.sliderItemWrapper},t)},na=Object(U.a)((function(){return{sliderContainer:{paddingLeft:"2rem",paddingRight:"2rem"},arrowBtn:{position:"absolute",top:"50%",transform:"translate(0, -50%)"},nextBtn:{right:"-1rem"},prevBtn:{left:"-1rem"}}}));function ra(e){var t=e.onClick,a=na();return o.a.createElement(ea,{className:"".concat(a.arrowBtn," ").concat(a.nextBtn),onClick:t,icon:o.a.createElement(Jt.a,null)})}function oa(e){var t=e.onClick,a=na();return o.a.createElement(ea,{className:"".concat(a.arrowBtn," ").concat(a.prevBtn),onClick:t,icon:o.a.createElement(Qt.a,null)})}ra.defaultProps={onClick:function(){}},oa.defaultProps={onClick:function(){}};function ia(e){var t=e.items,a=e.loading,n=e.error,r=e.noItemsMessage,i=e.settings,c=e.nextArrow,l=e.prevArrow,s=na();i.nextArrow=c,i.prevArrow=l;return a?o.a.createElement(le,null):function(){return n?o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG):t.length?o.a.createElement(qt.a,Object.assign({},(e=i,a=t.length,e.slidesToShow=Math.min(e.slidesToShow,a),e.responsive.forEach((function(e){var t=e.settings;t.slidesToShow=Math.min(t.slidesToShow,a)})),e),{className:s.sliderContainer}),t.map((function(e){return o.a.createElement(aa,{key:e.key},e)}))):o.a.createElement("span",null,r);var e,a}()}ia.defaultProps={loading:!1,error:null,noItemsMessage:xe.NO_ELEMENTS_TO_SHOW,settings:{infinite:!0,speed:500,slidesToShow:12,slidesToScroll:1,lazyLoad:null,responsive:[{breakpoint:1280,settings:{slidesToShow:8}},{breakpoint:960,settings:{slidesToShow:12}},{breakpoint:600,settings:{slidesToShow:8}},{breakpoint:480,settings:{slidesToShow:4}}]},nextArrow:o.a.createElement(ra,null),prevArrow:o.a.createElement(oa,null)};var ca=ia,la={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:4,draggable:!1,lazyLoad:"progressive",responsive:[{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:960,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};function sa(e){var t=e.movies,a=e.loading,n=e.error,r=e.noItemsMessage,i=e.configs.images,c=i.base_url,l=i.poster_sizes,s=t.map((function(e){return o.a.createElement(rt,{key:e.id,movie:e,baseUrl:c,posterSizes:l})}));return o.a.createElement(ca,{items:s,settings:la,loading:a,error:n,noItemsMessage:r})}sa.defaultProps={noItemsMessage:ye.NO_MOVIES_TO_SHOW,error:null};var ua=Object(Oe.a)(Ge)(sa);function ma(e){var t=e.movieId,a=e.noItemsMessage,n=Object(he.a)(Object(re.a)(ae.a.mark((function e(){var a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Ie.get("/movie/".concat(r,"/recommendations"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.results;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),r=n.value,i=n.loading,c=n.error;return o.a.createElement(Ue.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},o.a.createElement(ve,{text:ye.RECOMMENDED_MOVIES}),o.a.createElement(ua,{movies:null!==r&&void 0!==r?r:[],loading:i,error:c,noItemsMessage:a}))}ma.defaultProps={noItemsMessage:Ae.NO_RECOMMENDED_MOVIES};var da=ma;function pa(e){var t=e.movieId,a=e.noItemsMessage,n=Object(he.a)(Object(re.a)(ae.a.mark((function e(){var a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Ie.get("/movie/".concat(r,"/similar"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.results;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),r=n.value,i=n.loading,c=n.error;return o.a.createElement(Ue.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},o.a.createElement(ve,{text:ye.SIMILAR_MOVIES}),o.a.createElement(ua,{movies:null!==r&&void 0!==r?r:[],loading:i,noItemsMessage:a,error:c}))}pa.defaultProps={noItemsMessage:Ae.NO_SIMILAR_MOVIES};var Ea=pa,fa=Object(U.a)((function(e){return{imageWrapper:{display:"flex",justifyContent:"center"},image:Object(de.a)({maxWidth:"100%",maxHeight:"100%",height:"40rem",objectFit:"cover",borderRadius:"0.8rem",boxShadow:"0.3125rem 0.3125rem 0.625rem #a1a1a1"},e.breakpoints.down("sm"),{height:"30rem"})}}));var va=Object(Oe.a)(Ge)(o.a.memo((function(e){var t=e.title,a=e.src,n=e.configs,r=fa(),i=n.images,c=i.base_url,l=i.poster_sizes,s=a?"".concat(c).concat(l[4]).concat(a):at.a;return o.a.createElement("div",{className:r.imageWrapper},o.a.createElement("img",{src:s,title:t,alt:t,className:r.image}))}))),ga=Object(U.a)((function(e){return{tagline:Object(de.a)({textTransform:"uppercase",fontWeight:"bold",marginBottom:"0.625rem"},e.breakpoints.down("sm"),{fontSize:"1rem"}),title:Object(de.a)({marginBottom:"1rem"},e.breakpoints.down("sm"),{fontSize:"2.2rem"})}}));function ba(e){var t=e.title,a=e.tagline,n=ga();return o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,{className:n.title,variant:"h3",color:"textPrimary",component:"h1"},t),a&&o.a.createElement(pe.a,{className:n.tagline,variant:"h6",color:"textPrimary",component:"p"},a))}ba.defaultProps={tagline:""};var Oa=o.a.memo(ba),ha=a(137),_a=a.n(ha),Ia=a(139),Sa=a.n(Ia),Na=a(138),Ta=a.n(Na),ja=a(136),Ra=a.n(ja),Aa=Object(U.a)((function(){return{basicInfoWrapper:{marginTop:"2rem"},basicInfoItem:{fontWeight:"bold",marginBottom:"0.25rem"},iconWrapper:{display:"inline-block",verticalAlign:"middle",width:"2rem"}}}));function ya(e){var t=e.releaseDate,a=e.originaLanguage,n=e.runtime,r=e.budget,i=Aa();return o.a.createElement("div",{className:i.basicInfoWrapper},!!t&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:ye.RELEASE_DATE},o.a.createElement(Ra.a,null)),t),!!n&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:ye.DURATION},o.a.createElement(_a.a,null)),n," ",ye.MIN),!!r&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:ye.BUDGET},o.a.createElement(Ta.a,null)),r),!!a&&o.a.createElement(pe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:ye.ORIGINAL_LANGUAGE},o.a.createElement(Sa.a,null)),a.toUpperCase()))}ya.defaultProps={releaseDate:"",originaLanguage:"",runtime:0,budget:0};var xa=o.a.memo(ya),Ca=Object(U.a)((function(){return{description:{lineHeight:1.6,marginBottom:"1rem"}}}));var wa=o.a.memo((function(e){var t=e.overview,a=Ca();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ve,{text:ye.OVERVIEW}),o.a.createElement(pe.a,{className:a.description,variant:"subtitle1",color:"textPrimary",component:"p"},t))})),ka=Object(U.a)((function(){return{genreItem:{marginRight:"0.5rem",marginTop:"0.25rem"}}}));var Ma=function(e){var t=e.genres,a=Object(l.c)(),n=ka(),r=Object(G.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ve,{text:ye.GENRES}),t.map((function(e){var t=e.name,i=e.id;return o.a.createElement(dt.a,{className:n.genreItem,key:i,clickable:!0,color:"primary",variant:"outlined",label:t,onClick:function(){!function(e){a({type:"RESET_FILTER_ACTION"}),a(Q([e])),r.push(Ya.home.path)}(i)}})})))},Pa=a(279);var La=function(e){var t=e.movieId,a=e.baseUrl,n=e.posterSizes,i=Object(he.a)(Object(re.a)(ae.a.mark((function e(){var a,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Ie.get("/movie/".concat(r,"/credits"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.cast;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),c=i.value,l=i.loading,s=i.error,u="".concat(a).concat(n[0]),m=Object(r.useMemo)((function(){return new Array(10).fill(0).map((function(e,t){return o.a.createElement(Pa.a,{key:t.toString()},o.a.createElement(wt.a,null))}))}),[]),d=l?m:(c||[]).map((function(e){var t=e.profile_path,a=u+t;return o.a.createElement(wt.a,{key:e.id,src:a,title:e.name})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ve,{text:ye.CAST}),o.a.createElement(ca,{items:d,error:s}))};var Da=Object(Oe.a)(Ge)((function(e){var t,a=e.movie,n=e.configs,i=a.id,c=a.title,l=a.tagline,s=a.vote_average,u=a.release_date,m=a.original_language,d=a.runtime,p=a.budget,E=a.overview,f=a.genres,v=s/2,g=n.images,b=g.base_url,O=g.poster_sizes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Oa,{title:c,tagline:l}),Object(r.useMemo)((function(){return o.a.createElement(et.a,{readOnly:!0,value:v,precision:.5,icon:o.a.createElement($e.a,null)})}),[v]),(u||d||p||m)&&o.a.createElement(xa,{releaseDate:u,runtime:d,budget:p,originaLanguage:m}),(t=f,!(!Array.isArray(t)||!t.length)&&o.a.createElement(Ma,{genres:f})),E&&o.a.createElement(wa,{overview:E}),o.a.createElement(La,{movieId:i,baseUrl:b,posterSizes:O}))})),Wa=function(e){var t=e.movie,a=e.error;return o.a.createElement(Ut,null,t?o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,null,o.a.createElement("title",null,t.title," - ",Re.TITLE),o.a.createElement("meta",{name:"description",content:t.overview})),o.a.createElement(Ue.a,{container:!0,justify:"center",spacing:6},o.a.createElement(Ue.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4},o.a.createElement(va,{title:t.title,src:t.poster_path})),o.a.createElement(Ue.a,{item:!0,xs:12,sm:12,md:6,lg:8,xl:8},o.a.createElement(Da,{movie:t}))),o.a.createElement(Ue.a,{container:!0,justify:"flex-start",spacing:4},o.a.createElement(da,{movieId:t.id,noItemsMessage:Ae.NO_RECOMMENDED_MOVIES}),o.a.createElement(Ea,{movieId:t.id,noItemsMessage:Ae.NO_SIMILAR_MOVIES}))):a&&o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG))};Wa.defaultProps={error:null};var Ba=Wa,Ga=function(e){var t=e.location.pathname.split("/").slice(-1).pop(),a=Object(he.a)(Object(re.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t);case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=a.data;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=null;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)}))),[t]),n=a.value,r=a.loading,i=a.error;return r?o.a.createElement(le,{isFullScrean:!0}):o.a.createElement(Ba,{movie:n,error:i})},Fa=function(e){var t=e.query,a=e.movies,n=e.error,r=e.hasMore,i=e.loadMore;return o.a.createElement(Ut,null,a.length?o.a.createElement(ct,{movies:a,hasMore:r,loadMore:i,title:"".concat(Le.SEARCH_BY,' "').concat(t,'"'),md:4,sm:6}):n?o.a.createElement(ue.a,{variant:"outlined",severity:"error"},We.SOMETHING_WENT_WRONG):o.a.createElement(ve,{text:"".concat(Le.NO_MOVIES_FOUND_BY,' "').concat(t,'"')}))};Fa.defaultProps={movies:[],error:null,hasMore:!0};var Ua=Fa,Ha=function(e){var t=e.location.pathname.split("/").slice(-1).pop(),a=Object(r.useState)(!0),n=Object($.a)(a,2),i=n[0],c=n[1],l=Object(r.useState)(null),s=Object($.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)([]),p=Object($.a)(d,2),E=p[0],f=p[1],v=Object(r.useState)(!0),g=Object($.a)(v,2),b=g[0],O=g[1];Object(r.useEffect)((function(){(function(){var e=Object(re.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne(1,t);case 3:1===(a=e.sent).data.total_pages&&O(!1),f(Object(ne.a)(a.data.results)),c(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(e.t0),c(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var h=function(){var e=Object(re.a)(ae.a.mark((function e(a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne(a+1,t);case 3:(n=e.sent).data.total_pages===a+1&&O(!1),f((function(e){return Object(ne.a)(e.concat(n.data.results))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return i?o.a.createElement(le,{isFullScrean:!0}):o.a.createElement(Ua,{loadMore:h,movies:E,error:u,hasMore:b,query:t})},Va="/react-movies-library",Ya={home:{id:1,path:"".concat(Va,"/"),exact:!0,private:!1,component:xt},details:{id:2,path:"".concat(Va,"/movie/:id"),exact:!0,private:!1,component:Ga},login:{id:3,path:"".concat(Va,"/log-in"),exact:!0,private:!1,component:Wt},signup:{id:4,path:"".concat(Va,"/sign-up"),exact:!0,private:!1,component:Gt},favorites:{id:5,path:"".concat(Va,"/favorites"),exact:!0,private:!0,component:Yt},search:{id:6,path:"".concat(Va,"/search/:query"),exact:!0,private:!1,component:Ha}},za=function(e){var t=e.component,a=Object(ee.a)(e,["component"]),n=a.location.pathname+a.location.search,i=Object(r.useState)(JSON.parse(localStorage.getItem("authUser"))),c=Object($.a)(i,1)[0],l=Object(G.f)(),s=Object(r.useState)(null===c),u=Object($.a)(s,2),m=u[0],d=u[1];return Object(r.useEffect)((function(){c?d(!1):l.push({pathname:Ya.login.path,state:{url:n}})}),[c,l,n]),m?o.a.createElement(le,{isFullScrean:!0}):o.a.createElement(G.a,Object.assign({},a,{render:function(e){return o.a.createElement(t,e)}}))},qa=a(282),Ka=a(283),Ja=a(284),Xa=a(144),Qa=a.n(Xa),Za=a(27),$a=a(290),en=a(280),tn=a(140),an=a.n(tn),nn=a(141),rn=a.n(nn),on=Object(U.a)((function(e){return{hide:{display:"none"},drawer:{width:"100%",flexShrink:0},drawerPaper:{width:"100%",maxWidth:"320px"},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"})}}));function cn(e){var t=e.open,a=e.onClose,n=on(),r=Object(Za.a)();return o.a.createElement($a.a,{className:n.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:n.drawerPaper}},o.a.createElement("div",{className:n.drawerHeader},o.a.createElement(pe.a,{variant:"subtitle1",component:"p"},we.FILTERS_AND_SORTING),o.a.createElement(qe.a,{onClick:a},"ltr"===r.direction?o.a.createElement(an.a,null):o.a.createElement(rn.a,null))),o.a.createElement(en.a,null),o.a.createElement(jt,null))}cn.defaultProps={open:!1};var ln=cn,sn=a(281),un=a(94),mn=a.n(un),dn=a(95),pn=a.n(dn),En=a(143),fn=a.n(En),vn=a(7),gn=a(152),bn=a(142),On=a.n(bn),hn=Object(U.a)((function(e){var t;return{search:{display:"flex",alignItems:"center",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(vn.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(vn.c)(e.palette.common.white,.25)},marginLeft:0,marginRight:0,width:"100%"},searchBtn:{position:"absolute",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.primary.light,padding:"0 0.625rem",borderRadius:0},inputRoot:{color:"inherit"},searchInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(de.a)(t,e.breakpoints.up("md"),{width:"20ch"}),Object(de.a)(t,"borderBottom","1px solid ".concat(e.palette.grey[200])),Object(de.a)(t,"color",e.palette.secondary.dark),t)}}));var _n=o.a.memo((function(){var e=Object(r.useState)(""),t=Object($.a)(e,2),a=t[0],n=t[1],i=Object(G.f)(),c=function(e){e.preventDefault(),e.stopPropagation(),a.trim()&&i.push("".concat(Va,"/search/").concat(a))},l=hn();return o.a.createElement("div",{className:l.search},o.a.createElement(qe.a,{className:l.searchBtn,onClick:c},o.a.createElement(On.a,null)),o.a.createElement(gn.a,{placeholder:Ce.SEARCH_PLACEHOLDER,color:"secondary",classes:{root:l.inputRoot,input:l.searchInput},onInput:function(e){return n(e.target.value)},onKeyDown:function(e){13===e.keyCode&&c(e)}}))})),In=Object(U.a)((function(e){return{actionsWrapper:{display:"flex"},flex:{display:"flex"},moreIcon:{marginRight:"-12px"},favoritesBadge:{color:e.palette.error.dark},favoritesIcon:{color:e.palette.error.dark}}}));var Sn=Object(Oe.a)(h)((function(e){var t=e.setMobileMoreAnchorEl,a=e.firebase,n=In(),r=Object(G.f)(),i=Object(me.a)("(min-width: 960px)"),c=function(e){t(e.currentTarget)},l=function(){a.doSignOut()},s=function(){r.push(Ya.login.path)},u=function(){r.push(Ya.favorites.path)};return o.a.createElement(X.Consumer,null,(function(e){var t;return o.a.createElement("div",{className:n.actionsWrapper},o.a.createElement(_n,null),i?o.a.createElement("div",{className:n.flex},e.user&&o.a.createElement(qe.a,{onClick:u},o.a.createElement(sn.a,{badgeContent:Object.keys((null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.favorites)||{}).length,className:n.favoritesBadge},o.a.createElement(Je.a,{className:n.favoritesIcon}))),o.a.createElement(qe.a,{edge:"end",color:"primary"},e.user?o.a.createElement(mn.a,{onClick:l}):o.a.createElement(pn.a,{onClick:s}))):o.a.createElement("div",null,o.a.createElement(qe.a,{onClick:c},o.a.createElement(fn.a,{color:"secondary",className:n.moreIcon}))))}))})),Nn=a(147),Tn=Object(U.a)((function(e){var t=e.palette;return{favoritesBadge:{color:t.error.dark},favoritesIcon:{color:t.error.dark},leftSpace:{marginLeft:"1rem",color:t.secondary}}}));function jn(e){var t=e.mobileMoreAnchorEl,a=e.onClose,n=e.firebase,r=Tn(),i=Object(G.f)(),c=Boolean(t),l=function(){n.doSignOut()},s=function(){i.push(Ya.login.path)},u=function(){i.push(Ya.favorites.path)};return o.a.createElement(X.Consumer,null,(function(e){var n;return o.a.createElement(Nn.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:a},e.user&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ot.a,null,o.a.createElement(qe.a,{onClick:u},o.a.createElement(sn.a,{badgeContent:Object.keys((null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.favorites)||{}).length,className:r.favoritesBadge},o.a.createElement(Je.a,{className:r.favoritesIcon})),o.a.createElement(pe.a,{className:r.leftSpace,variant:"subtitle1"},Ce.FAVORITES))),o.a.createElement(Ot.a,null,o.a.createElement(qe.a,{color:"primary"},o.a.createElement(o.a.Fragment,null,o.a.createElement(mn.a,{onClick:l}),o.a.createElement(pe.a,{className:r.leftSpace,variant:"subtitle1"},Ce.SIGN_OUT))))),!e.user&&o.a.createElement(Ot.a,null,o.a.createElement(qe.a,{color:"primary"},o.a.createElement(pn.a,{onClick:s}),o.a.createElement(pe.a,{className:r.leftSpace,variant:"subtitle1"},Ce.LOGIN))))}))}jn.defaultProps={mobileMoreAnchorEl:null};var Rn=Object(Oe.a)(h)(jn),An=Object(U.a)((function(e){return{title:{color:e.palette.primary.light},link:{textDecoration:"none"}}}));var yn=o.a.memo((function(){var e=An();return o.a.createElement(B.b,{className:e.link,to:Ya.home.path},o.a.createElement(pe.a,{className:e.title,variant:"h6",color:"secondary",align:"center"},Re.TITLE))})),xn=Object(U.a)((function(){return{grow:{flexGrow:1},header:{background:"#fff"},toolbar:{justifyContent:"space-between"}}}));var Cn=function(){var e=xn(),t=Object(r.useState)(null),a=Object($.a)(t,2),n=a[0],i=a[1],c=Object(qa.a)(!1),l=Object($.a)(c,2),s=l[0],u=l[1],m=Object(me.a)("(min-width: 960px)");return o.a.createElement("div",{className:e.grow},o.a.createElement(Ka.a,{className:e.header},!m&&o.a.createElement(yn,null),o.a.createElement(Ja.a,{className:e.toolbar},!m&&o.a.createElement(qe.a,{edge:"start",className:e.menuButton,onClick:u,color:"secondary"},o.a.createElement(Qa.a,null)),m&&o.a.createElement(yn,null),o.a.createElement(Sn,{setMobileMoreAnchorEl:i}))),o.a.createElement(Rn,{onClose:function(){i(null)},mobileMoreAnchorEl:n}),o.a.createElement(ln,{open:s,onClose:u}))},wn=Object(U.a)((function(e){var t=e.palette;return{pageWrap:{minWidth:"320px",overflow:"hidden"},scrollToTopBtn:{display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",border:"1px solid ".concat(t.info.main),borderRadius:"50%"}}}));var kn=Z((function(){var e=Object(H.a)(J),t=wn();return o.a.createElement(V.a,{theme:e},o.a.createElement(Fe.Provider,{value:{}},o.a.createElement(F.a,null,o.a.createElement("title",null,Re.TITLE),o.a.createElement("meta",{name:"description",content:Re.DESCRIPTION}),o.a.createElement("meta",{name:"keywords",content:Re.KEYWORDS}),o.a.createElement("meta",{name:"MobileOptimized",content:"320"})),o.a.createElement("div",{className:t.pageWrap},o.a.createElement(B.a,null,o.a.createElement(Cn,null),o.a.createElement(G.c,null,Object.values(Ya).map((function(e){var t=e.component;return e.private?o.a.createElement(za,{key:e.id,path:e.path,exact:!!e.exact,component:t}):o.a.createElement(G.a,{key:e.id,path:e.path,exact:!!e.exact,component:t})})))),o.a.createElement(K.a,{showUnder:480},o.a.createElement("div",{className:t.scrollToTopBtn},o.a.createElement(z.a,{color:"primary"}))))))}));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:b},o.a.createElement(_.Provider,{value:W},o.a.createElement(kn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a.p+"static/media/noImage.7ebd0560.svg"}},[[166,1,2]]]);
//# sourceMappingURL=main.919eb9f7.chunk.js.map