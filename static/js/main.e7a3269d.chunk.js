(this["webpackJsonpmovies-library"]=this["webpackJsonpmovies-library"]||[]).push([[0],{166:function(e,t,a){e.exports=a(220)},180:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"doCreateUserWithEmailAndPassword",(function(){return x})),a.d(n,"doSignInWithEmailAndPassword",(function(){return C})),a.d(n,"doSignInWithGoogle",(function(){return w})),a.d(n,"doSignOut",(function(){return k})),a.d(n,"user",(function(){return M})),a.d(n,"users",(function(){return P})),a.d(n,"favorites",(function(){return D})),a.d(n,"favorite",(function(){return L})),a.d(n,"onAuthUserListener",(function(){return W}));var r=a(0),o=a.n(r),i=a(12),c=a.n(i),l=a(29);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(50),u=(a(175),a(25)),m={genres:[],yearsRange:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_GENRES_FILTER_ACTION":return Object(u.a)(Object(u.a)({},e),{},{genres:t.genres});case"ADD_YEAR_FILTER_ACTION":return Object(u.a)(Object(u.a)({},e),{},{yearsRange:t.yearsRange});case"RESET_FILTER_ACTION":return{genres:[],yearsRange:null};default:return e}},E={user:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOG_OUT_ACTION":return{user:null};case"USER_LOG_IN_ACTION":return{user:t.data};default:return e}},f={sorting:"popularity.desc"},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SORTING_ACTION":return Object(u.a)(Object(u.a)({},e),{},{sorting:t.sorting});default:return e}},g=Object(s.combineReducers)({filter:d,sorting:v,user:p});console.log("enhancer ",null),console.log("reducers ",g);var b=Object(s.createStore)(g,null);console.log("store ",b);var O=b,h=o.a.createContext(null),_=function(e){return function(t){return o.a.createElement(h.Consumer,null,(function(a){return o.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},I=h,S=a(78),N=a.n(S),T=(a(176),a(178),a(221),Object({NODE_ENV:"production",PUBLIC_URL:"/react-movies-library",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_TMDB_API_KEY:"a8ce71118c2014fa9f61d61b5464d5bf",REACT_APP_FIREBASE_API_KEY:"AIzaSyCMSZgmSbjpXMRthBHxEYOnXy07UofHRfI",REACT_APP_FIREBASE_AUTH_DOMAIN:"tmtb-b8251.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://tmtb-b8251.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-S71TJRLWGQ",REACT_APP_FIREBASE_PROJECT_ID:"tmtb-b8251",REACT_APP_FIREBASE_APP_ID:"1:657364492166:web:eabc247df61f2feb3d1607"})),j={apiKey:T.REACT_APP_FIREBASE_API_KEY,authDomain:T.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:T.REACT_APP_FIREBASE_DATABASE_URL,measurementId:T.REACT_APP_FIREBASE_MEASUREMENT_ID,projectId:T.REACT_APP_FIREBASE_PROJECT_ID,appId:T.REACT_APP_FIREBASE_APP_ID};N.a.initializeApp(j);var R=N.a.auth(),A=N.a.database(),y=new N.a.auth.GoogleAuthProvider,x=function(e,t){return R.createUserWithEmailAndPassword(e,t)},C=function(e,t){return R.signInWithEmailAndPassword(e,t)},w=function(){return R.signInWithPopup(y).then((function(e){return e}))},k=function(){return R.signOut()},M=function(e){return A.ref("users/".concat(e))},P=function(){return A.ref("users")},D=function(e){return A.ref("favorites/".concat(e))},L=function(){return A.ref("favorites")},W=function(e){return R.onAuthStateChanged((function(t){t?M(t.uid).once("value").then((function(a){var n=a.val();n?D(t.uid).on("value",(function(a){var r=a.val();t=Object(u.a)({uid:t.uid,email:t.email,emailVerified:t.emailVerified,providerData:t.providerData,favorites:r||{}},n),e(t)})):e({})})).catch((function(){})):e(null)}))},B=n,F=(a(180),a(28)),G=a(16),U=a(81),H=a(261),V=a(145),Y=a(286),z=a(144),q=a.n(z),K=a(127),J=a.n(K),X={palette:{primary:{main:"#0292F2"},secondary:{main:"#5A5A5A"}},typography:{fontFamily:'"Roboto", "-apple-system, BlinkMacSystemFont, "Segoe UI", "Lato",\n    "Helvetica Neue", sans-serif"',button:{textTransform:"capitalize",fontSize:"1.125rem"}}},Q=o.a.createContext(null),Z=function(e){return{genres:e,type:"ADD_GENRES_FILTER_ACTION"}},$=function(e){return Object(l.b)((function(e){return{user:e.user}}))(_((function(t){var a=t.user;return Object(r.useEffect)((function(){t.firebase.onAuthUserListener((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),t.dispatch({type:"USER_LOG_IN_ACTION",data:e}),localStorage.setItem("userId",JSON.stringify(e.uid))):(localStorage.removeItem("authUser"),t.dispatch(function(e){return{type:"USER_LOG_OUT_ACTION",data:e}}(null)))}),(function(){localStorage.removeItem("authUser")}))}),[]),o.a.createElement(Q.Provider,{value:a},o.a.createElement(e,t))})))},ee=a(10),te=a(147),ae=a(263),ne=Object(H.a)((function(){return{fullScrean:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},alignCenter:{display:"block",marginLeft:"auto",marginRight:"auto"}}}));function re(e){var t=e.isFullScrean,a=ne();return t?o.a.createElement("div",{className:a.fullScrean},o.a.createElement(ae.a,{size:80})):o.a.createElement(ae.a,{className:a.alignCenter})}re.defaultProps={isFullScrean:!1};var oe=o.a.memo(re),ie=function(e){var t=e.component,a=Object(te.a)(e,["component"]),n=a.location.pathname+a.location.search,i=Object(r.useState)(JSON.parse(localStorage.getItem("authUser"))),c=Object(ee.a)(i,1)[0],l=Object(G.f)(),s=Object(r.useState)(null===c),u=Object(ee.a)(s,2),m=u[0],d=u[1];return Object(r.useEffect)((function(){c?d(!1):l.push({pathname:"/log-in",state:{url:n}})}),[c,l,n]),m?o.a.createElement(oe,{isFullScrean:!0}):o.a.createElement(G.a,Object.assign({},a,{render:function(e){return o.a.createElement(t,e)}}))},ce=a(14),le=a.n(ce),se=a(45),ue=a(22),me=a(287),de=a(289),Ee=a(276),pe=a(24),fe=a(224),ve=Object(H.a)((function(e){return{heading:Object(pe.a)({marginTop:"2rem",marginBottom:"0.5rem",textTransform:"uppercase"},e.breakpoints.down("sm"),{fontSize:"1.2rem",marginTop:"1rem"})}}));function ge(e){var t=e.text,a=e.variant,n=e.color,r=e.component,i=ve();return o.a.createElement(fe.a,{className:i.heading,variant:a,color:n,component:r},t)}ge.defaultProps={variant:"h5",color:"textPrimary",component:"h4"};var be=o.a.memo(ge),Oe=a(128),he=a.n(Oe),_e=a(21),Ie=a(293),Se=a(130),Ne=a.n(Se).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"".concat("a8ce71118c2014fa9f61d61b5464d5bf")}}),Te=function(e){return Ne.get("/movie/".concat(e))},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={query:t,page:e,include_adult:!1};return Ne.get("/search/movie",{params:a})},Re=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o={page:a,include_adult:!1};return(null===(e=n.genres)||void 0===e?void 0:e.length)&&(o.with_genres=n.genres.join()),(null===(t=n.yearsRange)||void 0===t?void 0:t.length)&&2===n.yearsRange.length&&(o["primary_release_date.gte"]=new Date(n.yearsRange[0],0,1,0,0,0,0),o["primary_release_date.lte"]=new Date(n.yearsRange[1],11,31,23,59,59,999)),o.sort_by=r,Ne.get("/discover/movie",{params:o})},Ae={YEARS_NUM:50,SORTINGS:[{label:"Popularity Descending",value:"popularity.desc"},{label:"Popularity Ascending",value:"popularity.asc"},{label:"Rating Descending",value:"vote_average.desc"},{label:"Rating Ascending",value:"vote_average.asc"},{label:"Release Date Descending",value:"release_date.desc"},{label:"Release Date Ascending",value:"release_date.asc"}]},ye={TITLE:"Movies Library",DESCRIPTION:"Movies Library is a, database for movies.",KEYWORDS:"Movies, Reviews, Actors, Actresses, Photos, User Ratings, Cast",SIGN_OUT_BTN:"Sign out",LOGIN_BTN:"Login"},xe={NO_RECOMMENDED_MOVIES:"There is no recommended movies.",NO_SIMILAR_MOVIES:"There is no similar movies."},Ce={RELEASE_DATE:"Release date",DURATION:"Duration",MIN:"Min.",BUDGET:"Budget",ORIGINAL_LANGUAGE:"Original language",CAST:"Cast",GENRES:"Genres",OVERVIEW:"Overview",RECOMMENDED_MOVIES:"Recommended Movies",SIMILAR_MOVIES:"Similar Movies",NO_MOVIES_TO_SHOW:"There is no movies to show."},we={NO_ELEMENTS_TO_SHOW:"There is no elements to show."},ke={FAVORITES:"Favorites",SIGN_OUT:"Sign Out",SEARCH_PLACEHOLDER:"Search..."},Me={FILTERS_AND_SORTING:"Filters/Sorting"},Pe={TITLE:"Favorites",YOU_HAVE_NO_FAVORTITE_MOVIES:"You've no favorite movies."},De={LOGIN_TITLE:"Log in",LOGIN_BTN:"Log In",EMAIL:"Email",PASSWORD:"Password",DO_NOT_HAVE_ACCOUNT:"Do not have an account? Sign Up"},Le={TITLE:"Sign up",FIRST_NAME:"First Name",LAST_NAME:"Last Name",EMAIL:"Email",PASSWORD:"Password",SIGN_UP_BTN:"Sign up",ALREADY_HAVE_AN_ACCOUNT:"Already have an account? Log in"},We={SEARCH_BY:"Search By",NO_MOVIES_FOUND_BY:"No movies found by"},Be={GENRE:"Genre",SORT_BY:"Sort By",YEAR:"Year",FILTER_BTN:"Filter",RESET_FILTER_BTN:"Reset",NO_MOVIES_FOUND_BY_PROVIDED_FILTERS:"No movies found by provided filter"},Fe={SOMETHING_WENT_WRONG:"Oops, Something Went Wrong."},Ge=o.a.createContext(null),Ue=function(e){return function(t){var a=Object(Ie.a)(Object(ue.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("configuration");case 2:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===t;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=t.data;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=null;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)}))),[]),n=a.value,r=a.loading,i=a.error;return r?o.a.createElement(oe,{isFullScrean:!0}):i?o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG):o.a.createElement(Ge.Consumer,null,(function(){return o.a.createElement(e,Object.assign({},t,{configs:n}))}))}},He=Ge,Ve=a(269),Ye=a(265),ze=a(266),qe=a(267),Ke=a(268),Je=a(264),Xe=a(61),Qe=a.n(Xe),Ze=a(131),$e=a.n(Ze),et=a(91),tt=a.n(et),at=a(294),nt=a(89),rt=a.n(nt),ot=Object(H.a)((function(e){return{link:{textDecoration:"none",display:"block",width:"100%"},itemImage:{height:"24rem"},movieItem:{position:"relative",maxWidth:"17.5rem",marginLeft:"auto",marginRight:"auto",transition:"all 0.3s ease","&:hover":{transform:"scale(1.015)"}},actions:{position:"absolute",top:0,left:0,width:"100%",padding:0,background:"rgba(0,0,0,0.2)",justifyContent:"flex-end"},favoritesIcon:{cursor:"pointer",color:e.palette.error.dark}}}));var it=Object(_e.a)(_)((function(e){var t=e.movie,a=e.baseUrl,n=e.posterSizes,r=e.firebase,i=ot(),c=t.poster_path,l=c?"".concat(a).concat(n[3]).concat(c):rt.a,s=t.vote_average/2,m=function(e,t,a){a?e.favorites[t.id]=t:delete e.favorites[t.id],r.favorite(e.uid).update(Object(pe.a)({},e.uid,Object(u.a)({},e.favorites)))};return o.a.createElement(F.b,{className:i.link,to:"/movie/".concat(t.id)},o.a.createElement(Ye.a,{className:i.movieItem},o.a.createElement(ze.a,{image:l,title:t.title,className:i.itemImage}),o.a.createElement(qe.a,null,o.a.createElement(fe.a,{variant:"h6",color:"textPrimary",component:"p",noWrap:!0},t.title),o.a.createElement(fe.a,{variant:"subtitle1",color:"textPrimary",component:"p",noWrap:!0},Ce.RELEASE_DATE,": ",t.release_date),o.a.createElement(at.a,{readOnly:!0,value:s,precision:.5,icon:o.a.createElement(tt.a,null)})),o.a.createElement(Ke.a,{className:i.actions,disableSpacing:!0},o.a.createElement(Q.Consumer,null,(function(e){return function(e,a){if(!e)return null;var n=Object.keys(e.favorites).includes(a.toString());return o.a.createElement(Je.a,{"aria-label":"add to favorites"},n?o.a.createElement($e.a,{onClick:function(a){return a.preventDefault(),a.stopPropagation(),m(e,t,!n)},className:i.favoritesIcon}):o.a.createElement(Qe.a,{onClick:function(a){return a.preventDefault(),a.stopPropagation(),m(e,t,!n)},className:i.favoritesIcon}))}(e.user,t.id)})))))})),ct=Object(H.a)((function(){return{listingContainer:{paddingLeft:"0.5rem",paddingRight:"0.5rem"}}}));function lt(e){var t=e.movies,a=e.hasMore,n=e.loadMore,r=e.configs,i=e.xs,c=e.sm,l=e.md,s=e.lg,u=e.xl,m=e.title,d=ct();if(!r.images)return"";var E=r.images,p=E.base_url,f=E.poster_sizes;return o.a.createElement(o.a.Fragment,null,t.length>0&&o.a.createElement(he.a,{pageStart:0,loadMore:n,hasMore:a,loader:o.a.createElement(me.a,{key:0,display:"flex",justifyContent:"center",mt:3},o.a.createElement(oe,null))},o.a.createElement(Ve.a,{container:!0,justify:"center",spacing:3,className:d.listingContainer},m&&o.a.createElement(Ve.a,{container:!0},o.a.createElement(be,{text:m})),t.map((function(e){return o.a.createElement(Ve.a,{key:e.id,item:!0,xs:i,sm:c,md:l,lg:s,xl:u},o.a.createElement(it,{movie:e,baseUrl:p,posterSizes:f}))})))))}lt.defaultProps={xs:12,sm:4,md:4,lg:3,xl:3,hasMore:!0,title:""};var st=Object(_e.a)(Ue)(lt),ut=a(149),mt=a(275),dt=a(271),Et=a(270),pt=a(298),ft=Object(H.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",maxWidth:220,"& > *":{margin:e.spacing(.5)}}}}));var vt=function(e){var t=e.genres,a=e.checkedGenres,n=e.onChange,r=ft(),i=function(e){return!!a.find((function(t){return t===e}))},c=function(e){return function(){i(e)?a.splice(a.indexOf(e),1):a.push(e),n(Object(se.a)(a))}};return o.a.createElement(me.a,{mx:2,p:2},o.a.createElement(Et.a,{row:!0},o.a.createElement(dt.a,{component:"legend"},Be.GENRE),o.a.createElement("div",{className:r.root},t.map((function(e){var t=e.name,a=e.id;return o.a.createElement(pt.a,{key:a,label:t,clickable:!0,color:i(a)?"primary":"secondary",onClick:c(a),variant:"outlined",size:"small"})})))))},gt=a(272),bt=a(299),Ot=Object(H.a)((function(){return{formControl:{minWidth:150}}}));var ht=o.a.memo((function(e){var t=e.yearsRange,a=e.updateRange,n=e.firstYear,i=e.lastYear,c=Ot(),l=Object(r.useMemo)((function(){return[{value:n,label:n},{value:i,label:i}]}),[n,i]);return o.a.createElement(me.a,{mx:2,p:2},o.a.createElement(gt.a,{className:c.formControl},o.a.createElement(dt.a,{component:"legend"},Be.YEAR),o.a.createElement(bt.a,{value:t,onChange:function(e,t){a(t)},step:1,min:n,max:i,valueLabelDisplay:"auto","aria-labelledby":"range-slider",marks:l})))}),(function(e,t){return e.firstYear===t.firstYear&&e.lastYear===t.lastYear&&e.updateRange===t.updateRange&&e.yearsRange[0]===t.yearsRange[0]&&e.yearsRange[1]===t.yearsRange[1]})),_t=a(300),It=a(290),St=a(273),Nt=Object(H.a)((function(){return{formControl:{width:220}}}));var Tt=o.a.memo((function(e){var t=e.selectedSorting,a=e.onChange,n=Nt(),i=Object(r.useState)(t),c=Object(ee.a)(i,2),l=c[0],s=c[1];return Object(r.useEffect)((function(){s(t)}),[t]),o.a.createElement(me.a,{mx:2,p:2},o.a.createElement(gt.a,{className:n.formControl},o.a.createElement(dt.a,{component:"legend"},Be.SORT_BY),o.a.createElement(It.a,{value:l,onChange:a,input:o.a.createElement(St.a,null)},Ae.SORTINGS.map((function(e){var t=e.label,a=e.value;return o.a.createElement(_t.a,{key:a,value:a},t)})))))})),jt=(new Date).getFullYear(),Rt=jt-Ae.YEARS_NUM;var At=function(){var e,t,a=Object(l.c)(),n=Object(Ie.a)(Object(ue.a)(le.a.mark((function e(){var t,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/genre/movie/list");case 2:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===t;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(a=t.data)||void 0===a?void 0:a.genres;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)})))),i=n.value,c=n.loading,s=n.error,u=Object(l.d)((function(e){return e.filter})),m=Object(l.d)((function(e){return e.sorting})).sorting,d=Object(r.useState)(null!==(e=u.genres)&&void 0!==e?e:[]),E=Object(ee.a)(d,2),p=E[0],f=E[1],v=Object(r.useState)(null!==(t=u.yearsRange)&&void 0!==t?t:[Rt,jt]),g=Object(ee.a)(v,2),b=g[0],O=g[1];Object(r.useEffect)((function(){f(u.genres),O(u.yearsRange)}),[u]);var h=Object(r.useCallback)((function(){a(function(e){return{yearsRange:e,type:"ADD_YEAR_FILTER_ACTION"}}(b)),a(Z(p))}),[b,p,a]),_=Object(r.useCallback)((function(){a({type:"RESET_FILTER_ACTION"})}),[a]),I=Object(r.useCallback)((function(e){a(function(e){return{sorting:e,type:"CHANGE_SORTING_ACTION"}}(e.target.value))}),[a]);return o.a.createElement(me.a,null,o.a.createElement(ut.a,{elevation:3},o.a.createElement(Tt,{selectedSorting:m,onChange:I}),c?o.a.createElement(oe,null):s?o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG):o.a.createElement(vt,{genres:i,checkedGenres:p,onChange:f}),o.a.createElement(ht,{yearsRange:null!==b&&void 0!==b?b:[Rt,jt],updateRange:O,firstYear:Rt,lastYear:jt}),Object(r.useMemo)((function(){return o.a.createElement(me.a,{pb:2,display:"flex",justifyContent:"center"},o.a.createElement(mt.a,{variant:"outlined",color:"primary",onClick:h},Be.FILTER_BTN))}),[h]),Object(r.useMemo)((function(){return o.a.createElement(me.a,{pb:2,display:"flex",justifyContent:"center"},o.a.createElement(mt.a,{variant:"outlined",color:"secondary",onClick:_},Be.RESET_FILTER_BTN))}),[_])))},yt=Object(H.a)((function(){return{homeContent:{maxWidth:"100rem",margin:"7rem auto 2.5rem"}}}));function xt(e){var t=e.movies,a=e.error,n=e.hasMore,r=e.loadMore,i=yt(),c=Object(Ee.a)("(min-width: 960px)");return o.a.createElement(me.a,{container:!0,m:6,ml:2,flexDirection:"row",display:"flex",className:i.homeContent},c&&o.a.createElement(me.a,{item:!0,pr:3,spacing:3},o.a.createElement(At,null)),o.a.createElement(me.a,{item:!0,xs:6,spacing:3},t.length?o.a.createElement(st,{movies:t,hasMore:n,loadMore:r}):a?o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG):o.a.createElement(be,{text:Be.NO_MOVIES_FOUND_BY_PROVIDED_FILTERS})))}xt.defaultProps={movies:[],error:null,hasMore:!0};var Ct=xt;var wt=function(){var e=Object(r.useState)(!0),t=Object(ee.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(null),c=Object(ee.a)(i,2),s=c[0],u=c[1],m=Object(r.useState)([]),d=Object(ee.a)(m,2),E=d[0],p=d[1],f=Object(r.useState)(!0),v=Object(ee.a)(f,2),g=v[0],b=v[1],O=Object(l.d)((function(e){return e.filter})),h=Object(l.d)((function(e){return e.sorting})).sorting;Object(r.useEffect)((function(){(function(){var e=Object(ue.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re(1,O,h);case 3:1===(t=e.sent).data.total_pages&&b(!1),p(Object(se.a)(t.data.results)),n(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),u(e.t0),n(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[O,h]);var _=function(){var e=Object(ue.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re(t+1,O,h);case 3:(a=e.sent).data.total_pages===t+1&&b(!1),p((function(e){return Object(se.a)(e.concat(a.data.results))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return a?o.a.createElement(oe,{isFullScrean:!0}):o.a.createElement(Ct,{loadMore:_,movies:E,error:s,hasMore:g})},kt=a(277),Mt=a(296),Pt=a(278),Dt=a(279),Lt=a(292),Wt=a(94),Bt=a.n(Wt),Ft=Object(H.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Gt=Object(_e.a)(_)((function(e){var t=Ft(),a=Object(G.f)(),n=Object(r.useState)(null),i=Object(ee.a)(n,2),c=i[0],l=i[1],s=Object(r.useState)(""),u=Object(ee.a)(s,2),m=u[0],d=u[1],E=Object(r.useState)(""),p=Object(ee.a)(E,2),f=p[0],v=p[1];return o.a.createElement(kt.a,{component:"main",maxWidth:"xs"},c&&o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG),o.a.createElement(Pt.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(Mt.a,{className:t.avatar},o.a.createElement(Bt.a,null)),o.a.createElement(fe.a,{component:"h1",variant:"h5"},De.LOGIN_TITLE),o.a.createElement(Lt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:De.EMAIL,name:"email",autoComplete:"email",autoFocus:!0,value:m,onInput:function(e){return d(e.target.value)}}),o.a.createElement(Lt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:De.PASSWORD,type:"password",id:"password",autoComplete:"current-password",value:f,onInput:function(e){return v(e.target.value)}}),o.a.createElement(mt.a,{onClick:function(){e.firebase.doSignInWithEmailAndPassword(m,f).then((function(){return a.push("/")})).catch((function(e){l(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit},De.LOGIN_BTN),o.a.createElement(Ve.a,{container:!0},o.a.createElement(Ve.a,{item:!0},o.a.createElement(Dt.a,{href:"sign-up",variant:"body2"},De.DO_NOT_HAVE_ACCOUNT)))))})),Ut=Object(H.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var Ht=Object(_e.a)(_)((function(e){var t=Ut(),a=Object(G.f)(),n=Object(r.useState)(null),i=Object(ee.a)(n,2),c=i[0],l=i[1],s=Object(r.useState)(""),u=Object(ee.a)(s,2),m=u[0],d=u[1],E=Object(r.useState)(""),p=Object(ee.a)(E,2),f=p[0],v=p[1],g=Object(r.useState)(""),b=Object(ee.a)(g,2),O=b[0],h=b[1],_=Object(r.useState)(""),I=Object(ee.a)(_,2),S=I[0],N=I[1];return o.a.createElement(kt.a,{component:"main",maxWidth:"xs"},c&&o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG),o.a.createElement(Pt.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(Mt.a,{className:t.avatar},o.a.createElement(Bt.a,null)),o.a.createElement(fe.a,{component:"h1",variant:"h5"},Le.TITLE),o.a.createElement(Ve.a,{container:!0,spacing:2},o.a.createElement(Ve.a,{item:!0,xs:12,sm:6},o.a.createElement(Lt.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:Le.FIRST_NAME,autoFocus:!0,value:O,onInput:function(e){return h(e.target.value)}})),o.a.createElement(Ve.a,{item:!0,xs:12,sm:6},o.a.createElement(Lt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:Le.LAST_NAME,name:"lastName",autoComplete:"lname",value:S,onInput:function(e){return N(e.target.value)}})),o.a.createElement(Ve.a,{item:!0,xs:12},o.a.createElement(Lt.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:Le.EMAIL,name:"email",autoComplete:"email",value:m,onInput:function(e){return d(e.target.value)}})),o.a.createElement(Ve.a,{item:!0,xs:12},o.a.createElement(Lt.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:Le.PASSWORD,type:"password",id:"password",autoComplete:"current-password",value:f,onInput:function(e){return v(e.target.value)}}))),o.a.createElement(mt.a,{onClick:function(){e.firebase.doCreateUserWithEmailAndPassword(m,f).then((function(t){return e.firebase.user(t.user.uid).set({firstName:O,lastName:S,email:m})})).then((function(){return a.push("/")})).catch((function(e){l(e)}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit},Le.SIGN_UP_BTN),o.a.createElement(Ve.a,{container:!0,justify:"flex-end"},o.a.createElement(Ve.a,{item:!0},o.a.createElement(Dt.a,{href:"log-in",variant:"body2"},Le.ALREADY_HAVE_AN_ACCOUNT)))))})),Vt=Object(H.a)((function(){return{mainContent:{marginTop:"7rem",marginBottom:"2.5rem"}}}));var Yt=function(e){var t=e.children,a=Vt();return o.a.createElement(kt.a,{className:a.mainContent},t)},zt=function(e){var t,a=e.authUser,n=(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.favorites)||{},r=Object.values(n);return o.a.createElement(Yt,null,r.length?o.a.createElement(st,{movies:r,title:Pe.TITLE,hasMore:!1,md:4,sm:6}):o.a.createElement(be,{text:Pe.YOU_HAVE_NO_FAVORTITE_MOVIES}))};zt.defaultProps={authUser:{user:null}};var qt=zt;var Kt=function(){return o.a.createElement(Q.Consumer,null,(function(e){return o.a.createElement(qt,{authUser:e})}))},Jt=a(132),Xt=a.n(Jt),Qt=a(133),Zt=a.n(Qt),$t=a(134),ea=a.n($t),ta=(a(218),a(219),Object(H.a)((function(){return{arrowBtn:{background:"transparent",borderRadius:"50%",borderWidth:"1px",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",outline:"none"}}})));function aa(e){var t=e.onClick,a=e.icon,n=e.className,r=ta();return o.a.createElement("button",{onClick:t,className:"".concat(r.arrowBtn," ").concat(n),type:"button"},a)}aa.defaultProps={className:"",onClick:function(){}};var na=o.a.memo(aa),ra=Object(H.a)((function(){return{sliderItemWrapper:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.3125rem"}}}));var oa=function(e){var t=e.children,a=ra();return o.a.createElement("div",{className:a.sliderItemWrapper},t)},ia=Object(H.a)((function(){return{sliderContainer:{paddingLeft:"2rem",paddingRight:"2rem"},arrowBtn:{position:"absolute",top:"50%",transform:"translate(0, -50%)"},nextBtn:{right:"-1rem"},prevBtn:{left:"-1rem"}}}));function ca(e){var t=e.onClick,a=ia();return o.a.createElement(na,{className:"".concat(a.arrowBtn," ").concat(a.nextBtn),onClick:t,icon:o.a.createElement(Zt.a,null)})}function la(e){var t=e.onClick,a=ia();return o.a.createElement(na,{className:"".concat(a.arrowBtn," ").concat(a.prevBtn),onClick:t,icon:o.a.createElement(ea.a,null)})}ca.defaultProps={onClick:function(){}},la.defaultProps={onClick:function(){}};function sa(e){var t=e.items,a=e.loading,n=e.error,r=e.noItemsMessage,i=e.settings,c=e.nextArrow,l=e.prevArrow,s=ia();i.nextArrow=c,i.prevArrow=l;return a?o.a.createElement(oe,null):function(){return n?o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG):t.length?o.a.createElement(Xt.a,Object.assign({},(e=i,a=t.length,e.slidesToShow=Math.min(e.slidesToShow,a),e.responsive.forEach((function(e){var t=e.settings;t.slidesToShow=Math.min(t.slidesToShow,a)})),e),{className:s.sliderContainer}),t.map((function(e){return o.a.createElement(oa,{key:e.key},e)}))):o.a.createElement("span",null,r);var e,a}()}sa.defaultProps={loading:!1,error:null,noItemsMessage:we.NO_ELEMENTS_TO_SHOW,settings:{infinite:!0,speed:500,slidesToShow:12,slidesToScroll:1,lazyLoad:null,responsive:[{breakpoint:1280,settings:{slidesToShow:8}},{breakpoint:960,settings:{slidesToShow:12}},{breakpoint:600,settings:{slidesToShow:8}},{breakpoint:480,settings:{slidesToShow:4}}]},nextArrow:o.a.createElement(ca,null),prevArrow:o.a.createElement(la,null)};var ua=sa,ma={infinite:!0,speed:500,slidesToShow:4,slidesToScroll:4,draggable:!1,lazyLoad:"progressive",responsive:[{breakpoint:1280,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:960,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};function da(e){var t=e.movies,a=e.loading,n=e.error,r=e.noItemsMessage,i=e.configs.images,c=i.base_url,l=i.poster_sizes,s=t.map((function(e){return o.a.createElement(it,{key:e.id,movie:e,baseUrl:c,posterSizes:l})}));return o.a.createElement(ua,{items:s,settings:ma,loading:a,error:n,noItemsMessage:r})}da.defaultProps={noItemsMessage:Ce.NO_MOVIES_TO_SHOW,error:null};var Ea=Object(_e.a)(Ue)(da);function pa(e){var t=e.movieId,a=e.noItemsMessage,n=Object(Ie.a)(Object(ue.a)(le.a.mark((function e(){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Ne.get("/movie/".concat(r,"/recommendations"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.results;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),r=n.value,i=n.loading,c=n.error;return o.a.createElement(Ve.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},o.a.createElement(be,{text:Ce.RECOMMENDED_MOVIES}),o.a.createElement(Ea,{movies:null!==r&&void 0!==r?r:[],loading:i,error:c,noItemsMessage:a}))}pa.defaultProps={noItemsMessage:xe.NO_RECOMMENDED_MOVIES};var fa=pa;function va(e){var t=e.movieId,a=e.noItemsMessage,n=Object(Ie.a)(Object(ue.a)(le.a.mark((function e(){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Ne.get("/movie/".concat(r,"/similar"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.results;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),r=n.value,i=n.loading,c=n.error;return o.a.createElement(Ve.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},o.a.createElement(be,{text:Ce.SIMILAR_MOVIES}),o.a.createElement(Ea,{movies:null!==r&&void 0!==r?r:[],loading:i,noItemsMessage:a,error:c}))}va.defaultProps={noItemsMessage:xe.NO_SIMILAR_MOVIES};var ga=va,ba=Object(H.a)((function(e){return{imageWrapper:{display:"flex",justifyContent:"center"},image:Object(pe.a)({maxWidth:"100%",maxHeight:"100%",height:"40rem",objectFit:"cover",borderRadius:"0.8rem",boxShadow:"0.3125rem 0.3125rem 0.625rem #a1a1a1"},e.breakpoints.down("sm"),{height:"30rem"})}}));var Oa=Object(_e.a)(Ue)(o.a.memo((function(e){var t=e.title,a=e.src,n=e.configs,r=ba(),i=n.images,c=i.base_url,l=i.poster_sizes,s=a?"".concat(c).concat(l[4]).concat(a):rt.a;return o.a.createElement("div",{className:r.imageWrapper},o.a.createElement("img",{src:s,title:t,alt:t,className:r.image}))}))),ha=Object(H.a)((function(e){return{tagline:Object(pe.a)({textTransform:"uppercase",fontWeight:"bold",marginBottom:"0.625rem"},e.breakpoints.down("sm"),{fontSize:"1rem"}),title:Object(pe.a)({marginBottom:"1rem"},e.breakpoints.down("sm"),{fontSize:"2.2rem"})}}));function _a(e){var t=e.title,a=e.tagline,n=ha();return o.a.createElement(o.a.Fragment,null,o.a.createElement(fe.a,{className:n.title,variant:"h3",color:"textPrimary",component:"h1"},t),a&&o.a.createElement(fe.a,{className:n.tagline,variant:"h6",color:"textPrimary",component:"p"},a))}_a.defaultProps={tagline:""};var Ia=o.a.memo(_a),Sa=a(136),Na=a.n(Sa),Ta=a(138),ja=a.n(Ta),Ra=a(137),Aa=a.n(Ra),ya=a(135),xa=a.n(ya),Ca=Object(H.a)((function(){return{basicInfoWrapper:{marginTop:"2rem"},basicInfoItem:{fontWeight:"bold",marginBottom:"0.25rem"},iconWrapper:{display:"inline-block",verticalAlign:"middle",width:"2rem"}}}));function wa(e){var t=e.releaseDate,a=e.originaLanguage,n=e.runtime,r=e.budget,i=Ca();return o.a.createElement("div",{className:i.basicInfoWrapper},!!t&&o.a.createElement(fe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:Ce.RELEASE_DATE},o.a.createElement(xa.a,null)),t),!!n&&o.a.createElement(fe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:Ce.DURATION},o.a.createElement(Na.a,null)),n," ",Ce.MIN),!!r&&o.a.createElement(fe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:Ce.BUDGET},o.a.createElement(Aa.a,null)),r),!!a&&o.a.createElement(fe.a,{className:i.basicInfoItem,variant:"subtitle2",color:"textPrimary",component:"p"},o.a.createElement("span",{className:i.iconWrapper,title:Ce.ORIGINAL_LANGUAGE},o.a.createElement(ja.a,null)),a.toUpperCase()))}wa.defaultProps={releaseDate:"",originaLanguage:"",runtime:0,budget:0};var ka=o.a.memo(wa),Ma=Object(H.a)((function(){return{description:{lineHeight:1.6,marginBottom:"1rem"}}}));var Pa=o.a.memo((function(e){var t=e.overview,a=Ma();return o.a.createElement(o.a.Fragment,null,o.a.createElement(be,{text:Ce.OVERVIEW}),o.a.createElement(fe.a,{className:a.description,variant:"subtitle1",color:"textPrimary",component:"p"},t))})),Da=Object(H.a)((function(){return{genreItem:{marginRight:"0.5rem",marginTop:"0.25rem"}}}));var La=function(e){var t=e.genres,a=Object(l.c)(),n=Da(),r=Object(G.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(be,{text:Ce.GENRES}),t.map((function(e){var t=e.name,i=e.id;return o.a.createElement(pt.a,{className:n.genreItem,key:i,clickable:!0,color:"primary",variant:"outlined",label:t,onClick:function(){!function(e){a({type:"RESET_FILTER_ACTION"}),a(Z([e])),r.push("/")}(i)}})})))},Wa=a(280);var Ba=function(e){var t=e.movieId,a=e.baseUrl,n=e.posterSizes,i=Object(Ie.a)(Object(ue.a)(le.a.mark((function e(){var a,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r=t,Ne.get("/movie/".concat(r,"/credits"));case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=null===(n=a.data)||void 0===n?void 0:n.cast;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=[];case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}var r}),e)}))),[t]),c=i.value,l=i.loading,s=i.error,u="".concat(a).concat(n[0]),m=Object(r.useMemo)((function(){return new Array(10).fill(0).map((function(e,t){return o.a.createElement(Wa.a,{key:t.toString()},o.a.createElement(Mt.a,null))}))}),[]),d=l?m:(c||[]).map((function(e){var t=e.profile_path,a=u+t;return o.a.createElement(Mt.a,{key:e.id,src:a,title:e.name})}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(be,{text:Ce.CAST}),o.a.createElement(ua,{items:d,error:s}))};var Fa=Object(_e.a)(Ue)((function(e){var t,a=e.movie,n=e.configs,i=a.id,c=a.title,l=a.tagline,s=a.vote_average,u=a.release_date,m=a.original_language,d=a.runtime,E=a.budget,p=a.overview,f=a.genres,v=s/2,g=n.images,b=g.base_url,O=g.poster_sizes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ia,{title:c,tagline:l}),Object(r.useMemo)((function(){return o.a.createElement(at.a,{readOnly:!0,value:v,precision:.5,icon:o.a.createElement(tt.a,null)})}),[v]),(u||d||E||m)&&o.a.createElement(ka,{releaseDate:u,runtime:d,budget:E,originaLanguage:m}),(t=f,!(!Array.isArray(t)||!t.length)&&o.a.createElement(La,{genres:f})),p&&o.a.createElement(Pa,{overview:p}),o.a.createElement(Ba,{movieId:i,baseUrl:b,posterSizes:O}))})),Ga=function(e){var t=e.movie,a=e.error;return o.a.createElement(Yt,null,t?o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,null,o.a.createElement("title",null,t.title," - ",ye.TITLE),o.a.createElement("meta",{name:"description",content:t.overview})),o.a.createElement(Ve.a,{container:!0,justify:"center",spacing:6},o.a.createElement(Ve.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:4},o.a.createElement(Oa,{title:t.title,src:t.poster_path})),o.a.createElement(Ve.a,{item:!0,xs:12,sm:12,md:6,lg:8,xl:8},o.a.createElement(Fa,{movie:t}))),o.a.createElement(Ve.a,{container:!0,justify:"flex-start",spacing:4},o.a.createElement(fa,{movieId:t.id,noItemsMessage:xe.NO_RECOMMENDED_MOVIES}),o.a.createElement(ga,{movieId:t.id,noItemsMessage:xe.NO_SIMILAR_MOVIES}))):a&&o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG))};Ga.defaultProps={error:null};var Ua=Ga,Ha=function(e){var t=e.location.pathname.split("/")[2],a=Object(Ie.a)(Object(ue.a)(le.a.mark((function e(){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t);case 2:if(e.t2=a=e.sent,e.t1=null===e.t2,e.t1){e.next=6;break}e.t1=void 0===a;case 6:if(!e.t1){e.next=10;break}e.t3=void 0,e.next=11;break;case 10:e.t3=a.data;case 11:if(e.t0=e.t3,e.t0){e.next=14;break}e.t0=null;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)}))),[t]),n=a.value,r=a.loading,i=a.error;return r?o.a.createElement(oe,{isFullScrean:!0}):o.a.createElement(Ua,{movie:n,error:i})},Va=function(e){var t=e.query,a=e.movies,n=e.error,r=e.hasMore,i=e.loadMore;return o.a.createElement(Yt,null,a.length?o.a.createElement(st,{movies:a,hasMore:r,loadMore:i,title:"".concat(We.SEARCH_BY,' "').concat(t,'"'),md:4,sm:6}):n?o.a.createElement(de.a,{variant:"outlined",severity:"error"},Fe.SOMETHING_WENT_WRONG):o.a.createElement(be,{text:"".concat(We.NO_MOVIES_FOUND_BY,' "').concat(t,'"')}))};Va.defaultProps={movies:[],error:null,hasMore:!0};var Ya=Va,za=[{id:1,path:"/",exact:!0,private:!1,component:wt},{id:2,path:"/movie/:id",exact:!0,private:!1,component:Ha},{id:3,path:"/log-in",exact:!0,private:!1,component:Gt},{id:4,path:"/sign-up",exact:!0,private:!1,component:Ht},{id:5,path:"/favorites",exact:!0,private:!0,component:Kt},{id:6,path:"/search/:query",exact:!0,private:!1,component:function(e){var t=e.location.pathname.split("/")[2],a=Object(r.useState)(!0),n=Object(ee.a)(a,2),i=n[0],c=n[1],l=Object(r.useState)(null),s=Object(ee.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)([]),E=Object(ee.a)(d,2),p=E[0],f=E[1],v=Object(r.useState)(!0),g=Object(ee.a)(v,2),b=g[0],O=g[1];Object(r.useEffect)((function(){(function(){var e=Object(ue.a)(le.a.mark((function e(){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(1,t);case 3:1===(a=e.sent).data.total_pages&&O(!1),f(Object(se.a)(a.data.results)),c(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),m(e.t0),c(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var h=function(){var e=Object(ue.a)(le.a.mark((function e(a){var n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(a+1,t);case 3:(n=e.sent).data.total_pages===a+1&&O(!1),f((function(e){return Object(se.a)(e.concat(n.data.results))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return i?o.a.createElement(oe,{isFullScrean:!0}):o.a.createElement(Ya,{loadMore:h,movies:p,error:u,hasMore:b,query:t})}}],qa=a(283),Ka=a(284),Ja=a(285),Xa=a(143),Qa=a.n(Xa),Za=a(26),$a=a(291),en=a(281),tn=a(139),an=a.n(tn),nn=a(140),rn=a.n(nn),on=Object(H.a)((function(e){return{hide:{display:"none"},drawer:{width:"100%",flexShrink:0},drawerPaper:{width:"100%",maxWidth:"320px"},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between"})}}));function cn(e){var t=e.open,a=e.onClose,n=on(),r=Object(Za.a)();return o.a.createElement($a.a,{className:n.drawer,variant:"persistent",anchor:"left",open:t,classes:{paper:n.drawerPaper}},o.a.createElement("div",{className:n.drawerHeader},o.a.createElement(fe.a,{variant:"subtitle1",component:"p"},Me.FILTERS_AND_SORTING),o.a.createElement(Je.a,{onClick:a},"ltr"===r.direction?o.a.createElement(an.a,null):o.a.createElement(rn.a,null))),o.a.createElement(en.a,null),o.a.createElement(At,null))}cn.defaultProps={open:!1};var ln=cn,sn=a(282),un=a(67),mn=a.n(un),dn=a(142),En=a.n(dn),pn=a(7),fn=a(151),vn=a(141),gn=a.n(vn),bn=Object(H.a)((function(e){var t;return{search:{display:"flex",alignItems:"center",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(pn.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(pn.c)(e.palette.common.white,.25)},marginLeft:0,marginRight:0,width:"100%"},searchBtn:{position:"absolute",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.primary.light,padding:"0 0.625rem",borderRadius:0},inputRoot:{color:"inherit"},searchInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(pe.a)(t,e.breakpoints.up("md"),{width:"20ch"}),Object(pe.a)(t,"borderBottom","1px solid ".concat(e.palette.grey[200])),Object(pe.a)(t,"color",e.palette.secondary.dark),t)}}));var On=o.a.memo((function(){var e=Object(r.useState)(""),t=Object(ee.a)(e,2),a=t[0],n=t[1],i=Object(G.f)(),c=function(e){e.preventDefault(),e.stopPropagation(),a.trim()&&i.push("/search/".concat(a))},l=bn();return o.a.createElement("div",{className:l.search},o.a.createElement(Je.a,{className:l.searchBtn,onClick:c},o.a.createElement(gn.a,null)),o.a.createElement(fn.a,{placeholder:ke.SEARCH_PLACEHOLDER,color:"secondary",classes:{root:l.inputRoot,input:l.searchInput},onInput:function(e){return n(e.target.value)},onKeyDown:function(e){13===e.keyCode&&c(e)}}))})),hn=Object(H.a)((function(e){return{actionsWrapper:{display:"flex"},flex:{display:"flex"},moreIcon:{marginRight:"-12px"},favoritesBadge:{color:e.palette.error.dark},favoritesIcon:{color:e.palette.error.dark}}}));var _n=Object(_e.a)(_)((function(e){var t=e.setMobileMoreAnchorEl,a=e.firebase,n=hn(),r=Object(G.f)(),i=Object(Ee.a)("(min-width: 960px)"),c=function(e){t(e.currentTarget)},l=function(){a.doSignOut()},s=function(){r.push("log-in")},u=function(){r.push("favorites")};return o.a.createElement(Q.Consumer,null,(function(e){var t;return o.a.createElement("div",{className:n.actionsWrapper},o.a.createElement(On,null),i?o.a.createElement("div",{className:n.flex},e.user&&o.a.createElement(Je.a,{onClick:u},o.a.createElement(sn.a,{badgeContent:Object.keys((null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.favorites)||{}).length,className:n.favoritesBadge},o.a.createElement(Qe.a,{className:n.favoritesIcon}))),o.a.createElement(Je.a,{edge:"end",color:"primary"},e.user?o.a.createElement(mn.a,{onClick:l}):o.a.createElement(mn.a,{onClick:s}))):o.a.createElement("div",null,o.a.createElement(Je.a,{onClick:c},o.a.createElement(En.a,{color:"secondary",className:n.moreIcon}))))}))})),In=a(146),Sn=Object(H.a)((function(e){return{favoritesBadge:{color:e.palette.error.dark},favoritesIcon:{color:e.palette.error.dark}}}));function Nn(e){var t=e.mobileMoreAnchorEl,a=e.onClose,n=e.firebase,r=Sn(),i=Object(G.f)(),c=Boolean(t),l=function(){n.doSignOut()},s=function(){i.push("log-in")},u=function(){i.push("favorites")};return o.a.createElement(Q.Consumer,null,(function(e){var n;return o.a.createElement(In.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:a},o.a.createElement(_t.a,null,e.user&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Je.a,{onClick:u},o.a.createElement(sn.a,{badgeContent:Object.keys((null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.favorites)||{}).length,className:r.favoritesBadge},o.a.createElement(Qe.a,{className:r.favoritesIcon}))),o.a.createElement("p",null,ke.FAVORITES))),o.a.createElement(_t.a,null,o.a.createElement(Je.a,{color:"primary"},e.user?o.a.createElement(mn.a,{onClick:l}):o.a.createElement(mn.a,{onClick:s})),o.a.createElement("p",null,ke.SIGN_OUT)))}))}Nn.defaultProps={mobileMoreAnchorEl:null};var Tn=Object(_e.a)(_)(Nn),jn=Object(H.a)((function(e){return{title:{color:e.palette.primary.light},link:{textDecoration:"none"}}}));var Rn=o.a.memo((function(){var e=jn();return o.a.createElement(F.b,{className:e.link,to:"/"},o.a.createElement(fe.a,{className:e.title,variant:"h6",color:"secondary",align:"center"},ye.TITLE))})),An=Object(H.a)((function(){return{grow:{flexGrow:1},header:{background:"#fff"},toolbar:{justifyContent:"space-between"}}}));var yn=function(){var e=An(),t=Object(r.useState)(null),a=Object(ee.a)(t,2),n=a[0],i=a[1],c=Object(qa.a)(!1),l=Object(ee.a)(c,2),s=l[0],u=l[1],m=Object(Ee.a)("(min-width: 960px)");return o.a.createElement("div",{className:e.grow},o.a.createElement(Ka.a,{className:e.header},!m&&o.a.createElement(Rn,null),o.a.createElement(Ja.a,{className:e.toolbar},!m&&o.a.createElement(Je.a,{edge:"start",className:e.menuButton,onClick:u,color:"secondary"},o.a.createElement(Qa.a,null)),m&&o.a.createElement(Rn,null),o.a.createElement(_n,{setMobileMoreAnchorEl:i}))),o.a.createElement(Tn,{onClose:function(){i(null)},mobileMoreAnchorEl:n}),o.a.createElement(ln,{open:s,onClose:u}))},xn=Object(H.a)((function(e){var t=e.palette;return{pageWrap:{minWidth:"320px",overflow:"hidden"},scrollToTopBtn:{display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:"2rem",border:"1px solid ".concat(t.info.main),borderRadius:"50%"}}}));var Cn=$((function(){var e=Object(V.a)(X),t=xn();return o.a.createElement(Y.a,{theme:e},o.a.createElement(He.Provider,{value:{}},o.a.createElement(U.a,null,o.a.createElement("title",null,ye.TITLE),o.a.createElement("meta",{name:"description",content:ye.DESCRIPTION}),o.a.createElement("meta",{name:"keywords",content:ye.KEYWORDS}),o.a.createElement("meta",{name:"MobileOptimized",content:"320"})),o.a.createElement("div",{className:t.pageWrap},o.a.createElement(F.a,{basename:window.location.pathname||""},o.a.createElement(yn,null),o.a.createElement(G.c,null,za.map((function(e){var t=e.component;return e.private?o.a.createElement(ie,{key:e.id,path:e.path,exact:!!e.exact,component:t}):o.a.createElement(G.a,{key:e.id,path:e.path,exact:!!e.exact,component:t})})))),o.a.createElement(J.a,{showUnder:480},o.a.createElement("div",{className:t.scrollToTopBtn},o.a.createElement(q.a,{color:"primary"}))))))}));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:O},o.a.createElement(I.Provider,{value:B},o.a.createElement(Cn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a.p+"static/media/noImage.7ebd0560.svg"}},[[166,1,2]]]);
//# sourceMappingURL=main.e7a3269d.chunk.js.map